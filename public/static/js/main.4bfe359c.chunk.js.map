{"version":3,"sources":["components/ImageLoader/ImageLoader.module.scss","components/CardCollection/styles.module.css","components/CardRender/images/rarity/common.png","components/CardRender/images/rarity/uncommon.png","components/CardRender/images/rarity/rare.png","components/CardRender/images/rarity/mythic.png","components/CardRender/images/no-cover.jpg","components/GlowingStar/index.module.scss","components/CardEditor/styles.module.scss","App.module.scss","components/ActionHover/styles.module.scss","interfaces/enums.ts","useWindowDimensions.js","components/CardRender/injectUtils.tsx","cardReducer.ts","components/CardRender/cardToColor.ts","components/ImageLoader/ImageLoader.tsx","store.tsx","components/CardRender/CardRender.tsx","components/ActionHover/ActionHover.tsx","components/GlowingStar/index.jsx","components/CardCollection/CardCollection.tsx","components/CardEditor/EditField.tsx","components/EditorTooltip/EditorTooltip.tsx","utils/dropbox-fetch-axios.ts","dropboxService.ts","actions/cardActions.ts","components/CardEditor/CardEditor.tsx","components/CollectionFilterControls/CollectionFilterControls.tsx","actions/mechanicActions.ts","components/EditableTable/EditableCell.tsx","components/EditableTable/EditableRow.tsx","components/EditableTable/EditableTable.tsx","components/MechanicModal/MechanicModal.tsx","utils/useLocalStorageHook.ts","components/ChangeLogModal/updateLog.tsx","components/ChangeLogModal/LogEntry.tsx","components/ChangeLogModal/ChangeLogModal.tsx","App.tsx","serviceWorker.ts","index.tsx","components/CollectionFilterControls/styles.module.scss","components/ChangeLogModal/logEntry.module.scss"],"names":["module","exports","imgLoading","imgLoaded","fadeInImg","collection","swapButton","cardBox","edit","__webpack_require__","p","glowingStar","glow","noCard","editor","splitInput","partialField","fullField","listItem","centerParent","label","tiny","button","buttonGroup","smallButtonGroup","tooltip","app","editorMobile","addButton","fullWidth","sortControls","sortSelect","modalCardViewWrapper","modalCardGroupWrapper","modalCardGroupWrapperSingle","modalCardWrapper","modalCardGroupWrapperDouble","landscapeReminder","landscapeAddButton","hovereffect","overlay","target","active","rotate","action","eastAction","westAction","southAction","northAction","CardMainType","RarityType","ColorType","Creators","CardVersion","SortByType","ChangeLogFeatureType","getWindowDimensions","_window","window","width","innerWidth","height","innerHeight","mapEnum","enumerable","fn","Object","keys","map","key","m","InjectStyle","CardActionType","MechanicActionType","AnnotationActionType","injectDomElement","text","toReplace","toInject","toInjectClose","style","arguments","length","undefined","NONE","workingArray","Array","isArray","forEach","t","push","resultArray","elem","React","isValidElement","wrap","obj","ITALIC","react_default","a","createElement","fontStyle","splitArray","split","i","injectWithConfig","config","c","injectManaIcons","shadow","es","symbol","cost","RegExp","concat","injectName","name","injectQuotationMarks","cardToColor","cardMainType","manaCost","color","Colorless","allColors","Land","setColor","type","Gold","White","Blue","Black","Red","Green","ImageLoader","_ref","src","className","alt","id","restProps","objectWithoutProperties","_useState","useState","_useState2","slicedToArray","loaded","setLoaded","assign","styles","onLoad","cardReducer","state","annotationAccessor","RefreshCollection","_objectSpread","cards","card","loading","CreateCard","toConsumableArray","payload","newUuid","uuid","ReadCard","filter","BulkReadCard","find","newCard","UpdateCard","DeleteCard","GetMechanics","mechanics","CreateMechanic","mechanic","UpdateMechanic","DeleteMechanic","GetAnnotations","annotations","annotation","cardReference","CreateAnnotation","UpdateAnnotation","DeleteAnnotation","values","list","initialState","keywords","cardSubTypes","creators","initialStore","store_objectSpread","dispatch","Store","createContext","CardRender","cardRender","legendary","rarity","cardStats","cover","creator","cardText","flavourText","flavourAuthor","cardID","backFace","collectionNumber","collectionSize","_cardRender$container","containerWidth","smallText","useContext","_cardToColor","cssColorName","Planeswalker","resizeFactor","transform","transformOrigin","LazyLoad_default","debounce","components_ImageLoader_ImageLoader","NoCover","MythicRare","MythicRareIcon","Rare","RareIcon","Uncommon","UncommonIcon","CommonIcon","val","injectPlaneswalkerIcons","description","injectMechanics","Creature","UNKNOWN","NonMemoCardRender","memo","ActionHover","actions","empty","icon","_actions$northAction","_actions$eastAction","_actions$westAction","_actions$southAction","_actions$onHover","onHover","outer","onMouseEnter","children","onClick","GlowingStar","CardCollection","_ref$cards","editCard","downloadJson","currentEditId","viewCard","colSpan","seenCardUuids","addSeenCard","showBackFaceConfig","setShowBackFaceConfig","_useResizeAware","useResizeAware","_useResizeAware2","resizeListener","sizes","col","span","components_GlowingStar","spin","size","spinning","components_ActionHover_ActionHover","components_CardRender_CardRender","back","CardCollection_objectSpread","front","getCardFace","es_button","newConfig","toggleShowBackConfig","TextArea","EditField","props","fieldKey","data","getValue","saveValue","input","value","onChange","e","autosize","es_checkbox","checked","es_select","d","Option","bordered","dataSource","renderItem","item","Item","theme","twoToneColor","splice","footer","addToDataSource","code","loyalty","content","table","columns","title","dataIndex","showHeader","pagination","EditorTooltip","popover","placement","_token","CONTENT_ENDPOINT","apiMethodRegex","get","apiMethod","apiArgs","endpoint","token","assert","string","ok","test","object","axios","headers","Authorization","Dropbox-API-Arg","JSON","stringify","post","Content-Type","dropbox_fetch_axios","AUTHORIZE_ENDPOINT","RPC_ENDPOINT","authorize","clientId","Promise","resolve","reject","download","path","zip","getMetadata","includeMediaInfo","includeDeleted","includeHasExplicitSharedMembers","bool","fetch","method","Access-Control-Allow-Origin","body","include_media_info","include_deleted","include_has_explicit_shared_members","setToken","upload","_ref$mode","mode","_ref$autorename","autorename","_ref$mute","mute","startsWith","dropboxAccess","localStorage","getItem","getAccessToken","refreshCollection","request","then","result","catch","error","console","log","createCard","args","accessKey","message","success","dummyCard","Common","version","V1","lastUpdated","moment","valueOf","createdAt","CardEditor","_ref$card","saveTmpCard","contentChanged","setContentChanged","_useState3","_","cloneDeep","_useState4","originalCard","setOriginalCard","_useState5","_useState6","tmpCard","setTmpCard","_useState7","_useState8","timerId","setTimerId","_useState9","_useState10","editBack","setEditBack","_useContext","getCurrentFace","currentCard","newTmpCard","CardEditor_objectSpread","clearTimeout","tmpId","setTimeout","useEffect","isEqual","isPlaneswalker","hasMana","Emblem","hasStats","inputConfig","es_row","components_EditorTooltip_EditorTooltip","Group","display","CardEditor_EditField","disabled","updated","put","updateCard","CollectionFilterControls","setCollectionColSpan","setCollectionFilter","_ref$showColSpan","showColSpan","setNameFilter","createEnumInitState","group","colSpanSetting","setColSpanSetting","shownCardTypes","setShownCardTypes","shownColors","setShownColors","shownRarities","setShownRarities","updateEnumState","fct","newState","CollectionFilterControls_objectSpread","cardCountStats","colors","types","controls","controlItem","placeholder","allowClear","es_radio","toString","nextColSpan","parseInt","Button","updateMechanic","FormItem","es_form","EditableCell","_React$Component","_getPrototypeOf2","_this","classCallCheck","this","_len","_key","possibleConstructorReturn","getPrototypeOf","call","apply","getInput","inputType","input_number","inherits","createClass","_this2","_this$props","editing","record","index","EditableContext","Consumer","form","getFieldDecorator","margin","rules","required","initialValue","Component","EditableFormRow","create","Provider","EditableTable","isEditing","editingKey","cancel","setState","validateFields","row","newData","findIndex","EditableTable_objectSpread","onSave","_this3","components","cell","parsedColumns","render","editable","href","save","marginRight","popconfirm","onConfirm","onCell","MechanicModal","visible","setVisible","sortedMechanics","sortBy","o","MechanicModal_objectSpread","modal","onOk","onCancel","createMechanic","EditableTable_EditableTable","nextSource","useLocalStorage","localStorageKey","defaultValue","json","setValue","setItem","parse","newValue","Text","updateLog","Added","feature","Removed","None","Changed","ListItem","LogEntry","entry","LogEntry_Text","Deprecated","delete","Fixed","new","change","ChangeLogModal","_useLocalStorage","_useLocalStorage2","lastSeenVersion","updateLastSeenVersion","info","ChangeLogModal_LogEntry","okText","Search","confirm","App","cardEditId","setCardEditId","cardViewId","setCardViewId","showCardModal","setShowCardModal","cardNameFilter","setCardNameFilter","_useState11","_useState12","mechanicsVisible","setMechanicsVisible","Color","setSortBy","_useLocalStorage3","_useLocalStorage4","setSeenCardUuids","_useState13","_useState14","collectionFilter","_useState15","_useState16","mergedCollection","sortList","indexOf","toLowerCase","Creator","LastUpdated","filteredCollection","includes","getCard","uuidv4","openCardInEditor","getMechanics","App_objectSpread","fileDownload","oldCardName","okType","cancelText","_useWindowDimensions","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useWindowDimensions","isMobile","isLandScape","wOffset","modalMaxWidth","modalMaxHeight","modalSingleCardWidth","Math","min","modalDoubleCardWidth","newSortByValue","components_CollectionFilterControls_CollectionFilterControls","collectionSpan","editorSpan","seenCardObject","components_ChangeLogModal_ChangeLogModal","components_MechanicModal_MechanicModal","components_CardCollection_CardCollection","downloadImage","components_CardEditor_CardEditor","createGrid","marginTop","cardCollection","collectionData","downloadCollectionAsJson","wrapClassName","modalBack","enterButton","onSearch","location","reload","Boolean","hostname","match","LogRocket","init","setupLogRocketReact","ReactDOM","_useReducer","useReducer","reducer","_useReducer2","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4bfe359c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgLoading\":\"ImageLoader_imgLoading__2AA-A\",\"imgLoaded\":\"ImageLoader_imgLoaded__2QUR9\",\"fadeInImg\":\"ImageLoader_fadeInImg__2zrV3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"collection\":\"styles_collection__3Powm\",\"swapButton\":\"styles_swapButton__14m1v\",\"cardBox\":\"styles_cardBox__1PqBo\",\"edit\":\"styles_edit__PvXTv\"};","module.exports = __webpack_public_path__ + \"static/media/common.4984a4f2.png\";","module.exports = __webpack_public_path__ + \"static/media/uncommon.5975ca6c.png\";","module.exports = __webpack_public_path__ + \"static/media/rare.5cddd28f.png\";","module.exports = __webpack_public_path__ + \"static/media/mythic.d94d6ade.png\";","module.exports = \"data:image/jpeg;base64,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tzOXLase7waIBTanpvb9RNOaXxxSvbHZPHP9k76Fj+gfQ5m845p2czPjwlgKfB05oNPS9Ire8Xjie+ef0RP+kdF6Xn02Xt/8PBowHhpdLh0mCuHDSK0hA3DYtJuOo9Nntki3bx6s8LYB44MNMGGmKnM1pHEcqzXdO6HXZPST3Y7z5zj48fvhcgM/g6T0WO8WvfJk4+zM+C9pSuOkUpWK1jwiIdgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/9kgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"glowingStar\":\"GlowingStar_glowingStar__24Wzb\",\"glow\":\"GlowingStar_glow__2C3OC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noCard\":\"styles_noCard__3IYeu\",\"editor\":\"styles_editor__ox5NG\",\"splitInput\":\"styles_splitInput__3wkDS\",\"partialField\":\"styles_partialField__1g7jM\",\"fullField\":\"styles_fullField__163u1\",\"listItem\":\"styles_listItem__3znQM\",\"centerParent\":\"styles_centerParent__mIZzA\",\"label\":\"styles_label__2s9z0\",\"tiny\":\"styles_tiny__1rgMC\",\"button\":\"styles_button__3jWgt\",\"buttonGroup\":\"styles_buttonGroup__3bxBV\",\"smallButtonGroup\":\"styles_smallButtonGroup__1kBOH\",\"tooltip\":\"styles_tooltip__16oyf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2E5--\",\"editor\":\"App_editor__p756F\",\"editorMobile\":\"App_editorMobile__2pGLS\",\"addButton\":\"App_addButton__1UuML\",\"fullWidth\":\"App_fullWidth__1GC9Q\",\"sortControls\":\"App_sortControls__1-nsz\",\"sortSelect\":\"App_sortSelect__3UqXA\",\"modalCardViewWrapper\":\"App_modalCardViewWrapper__1xypb\",\"modalCardGroupWrapper\":\"App_modalCardGroupWrapper__1Z9n7\",\"modalCardGroupWrapperSingle\":\"App_modalCardGroupWrapperSingle__185Sr\",\"modalCardWrapper\":\"App_modalCardWrapper__3utX4\",\"modalCardGroupWrapperDouble\":\"App_modalCardGroupWrapperDouble__2Lv0K\",\"landscapeReminder\":\"App_landscapeReminder__3Q9ex\",\"landscapeAddButton\":\"App_landscapeAddButton__1YwTm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hovereffect\":\"styles_hovereffect__3VjJq\",\"overlay\":\"styles_overlay__2ni2j\",\"target\":\"styles_target__3jRLy\",\"active\":\"styles_active__YLVI1\",\"rotate\":\"styles_rotate__CL-RM\",\"action\":\"styles_action__2-3Di\",\"eastAction\":\"styles_eastAction__2XiWN\",\"westAction\":\"styles_westAction__3PBQn\",\"southAction\":\"styles_southAction__2qeEJ\",\"northAction\":\"styles_northAction__22TYw\"};","export function mapEnum(enumerable: any, fn: Function): any[] {\n  // get all the members of the enum\n  const enumMembers: any[] = Object.keys(enumerable).map(key => enumerable[key]);\n\n  // // we are only interested in the numeric identifiers as these represent the values\n  // let enumValues: number[] = enumMembers.filter(v => typeof v === 'number');\n\n  // now map through the enum values\n  return enumMembers.map(m => fn(m));\n}\n\nexport enum CardMainType {\n  Creature = 'Creature',\n  Instant = 'Instant',\n  Sorcery = 'Sorcery',\n  Enchantment = 'Enchantment',\n  Artifact = 'Artifact',\n  Land = 'Land',\n  Planeswalker = 'Planeswalker',\n  Emblem = 'Emblem'\n}\n\nexport enum RarityType {\n  Common = 'Common',\n  Uncommon = 'Uncommon',\n  Rare = 'Rare',\n  MythicRare = 'Mythic Rare'\n}\n\nexport enum ColorType {\n  White = 'white',\n  Blue = 'blue',\n  Black = 'black',\n  Red = 'red',\n  Green = 'green',\n  Colorless = 'colorless',\n  Gold = 'gold',\n  Land = 'land',\n  Planeswalker = 'planeswalker'\n}\n\nexport enum Creators {\n  UNKNOWN = 'Unknown Goomy Follower',\n  Anger = 'Goomy our Anger',\n  Breath = 'Goomy our Breath',\n  Faith = 'Goomy our Faith',\n  Greed = 'Goomy our Greed',\n  Hope = 'Goomy our Hope',\n  Leader = 'Goomy our Leader',\n  Light = 'Goomy our Light',\n  Lord = 'Goomy our Lord',\n  Pledge = 'Goomy our Pledge',\n  Pride = 'Goomy our Pride',\n  Purity = 'Goomy our Purity',\n  Soul = 'Goomy our Soul',\n  Truth = 'Goomy our Truth',\n  NobleTwo = 'NobleTwo',\n  Kant = 'Kantiger als Kant',\n  kleinFlopsi = 'kleinFlopsi'\n}\n\nexport enum CardVersion {\n  V1 = 'v1',\n  V2 = 'v2'\n}\n\nexport enum SortByType {\n  Color = 'Color',\n  LastUpdated = 'Last Updated',\n  Creator = 'Creator'\n}\n\nexport enum ChangeLogFeatureType {\n  Added = 'Added',\n  Changed = 'Changed',\n  Deprecated = 'Deprecated',\n  Removed = 'Removed',\n  Fixed = 'Fixed',\n  Security = 'Security',\n  None = ''\n}\n","import { useState, useEffect } from 'react';\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowDimensions;\n}\n","import React from 'react';\n// @ts-ignore\nimport { Mana } from '@saeris/react-mana';\nimport MechanicInterface from '../../interfaces/MechanicInterface';\n\ninterface InjectFunc {\n  (\n    text: (string | JSX.Element) | (string | JSX.Element)[],\n    toReplace: RegExp,\n    toInject: JSX.Element | string,\n    toInjectClose?: JSX.Element | string,\n    style?: InjectStyle\n  ): (string | JSX.Element)[];\n}\n\nenum InjectStyle {\n  NONE,\n  ITALIC\n}\n\ninterface InjectionConfig {\n  toReplace: RegExp;\n  toInject: JSX.Element | string;\n  toInjectClose?: JSX.Element | string;\n  style?: InjectStyle;\n}\n\nexport const simpleReplaceAll = (target: string, toRemove: string, toInject: string) => {\n  return target.split(toRemove).join(toInject);\n};\n\nconst injectDomElement: InjectFunc = (\n  text,\n  toReplace,\n  toInject,\n  toInjectClose,\n  style = InjectStyle.NONE\n) => {\n  const workingArray: (string | JSX.Element)[] = [];\n  if (Array.isArray(text)) {\n    text.forEach(t => workingArray.push(t));\n  } else {\n    workingArray.push(text);\n  }\n\n  const resultArray: (string | JSX.Element)[] = [];\n\n  workingArray.forEach(elem => {\n    if (React.isValidElement(elem)) {\n      resultArray.push(elem);\n      return;\n    }\n\n    if (typeof elem === 'string') {\n      const wrap = (obj: string | JSX.Element) => {\n        if (style === InjectStyle.ITALIC) {\n          return <span style={{ fontStyle: 'italic' }}>{obj}</span>;\n        }\n        return obj;\n      };\n\n      const splitArray = elem.split(toReplace);\n      for (let i = 0; i < splitArray.length - 1; i += 1) {\n        resultArray.push(splitArray[i]);\n        if (toInjectClose && i % 2 === 1) {\n          resultArray.push(wrap(toInjectClose));\n        } else {\n          resultArray.push(wrap(toInject));\n        }\n      }\n\n      resultArray.push(splitArray[splitArray.length - 1]);\n    }\n  });\n\n  return resultArray;\n};\n\nexport const injectWithConfig = (\n  text: (string | JSX.Element) | (string | JSX.Element)[],\n  config: InjectionConfig | InjectionConfig[]\n) => {\n  let workingArray = text;\n\n  if (!Array.isArray(config))\n    return injectDomElement(\n      workingArray,\n      config.toReplace,\n      config.toInject,\n      config.toInjectClose,\n      config.style\n    );\n\n  config.forEach(c => {\n    workingArray = injectDomElement(\n      workingArray,\n      c.toReplace,\n      c.toInject,\n      c.toInjectClose,\n      c.style\n    );\n  });\n\n  return workingArray;\n};\n\nexport const injectMechanics = (\n  text: string | JSX.Element | (string | JSX.Element)[],\n  mechanics: MechanicInterface[]\n) => {\n  const config: InjectionConfig[] = [];\n  mechanics.forEach(mechanic => {\n    config.push({\n      toReplace: new RegExp(`[\\\\s]*\\\\[([\\\\s]*${mechanic.name}[\\\\s]*{.*}[\\\\s]*)\\\\]$`),\n      style: InjectStyle.ITALIC,\n      toInject: '',\n      toInjectClose: ` (${mechanic.description})`\n    });\n    config.push({\n      toReplace: new RegExp(`[\\\\s]*\\\\[([\\\\s]*${mechanic.name}[\\\\s]*\\\\d+[\\\\s]*)\\\\]$`),\n      style: InjectStyle.ITALIC,\n      toInject: '',\n      toInjectClose: ` (${mechanic.description})`\n    });\n    config.push({\n      toReplace: new RegExp(`[\\\\s]*\\\\[([\\\\s]*${mechanic.name}[\\\\s]*)\\\\]$`),\n      style: InjectStyle.ITALIC,\n      toInject: '',\n      toInjectClose: ` (${mechanic.description})`\n    });\n    config.push({\n      toReplace: new RegExp(`[\\\\s]*\\\\[[\\\\s]*${mechanic.name}[\\\\s]*(.*)\\\\]`),\n      toInject: ` ${mechanic.name} — `,\n      toInjectClose: ` ${mechanic.description}`\n    });\n  });\n  return injectWithConfig(text, config);\n};\n\nexport const injectManaIcons = (\n  text: string | JSX.Element | (string | JSX.Element)[],\n  shadow?: boolean\n) => {\n  const config: InjectionConfig[] = [\n    { toReplace: /{[wW]}/, toInject: <Mana symbol=\"w\" cost shadow={shadow} /> },\n    { toReplace: /{[uU]}/, toInject: <Mana symbol=\"u\" cost shadow={shadow} /> },\n    { toReplace: /{[bB]}/, toInject: <Mana symbol=\"b\" cost shadow={shadow} /> },\n    { toReplace: /{[rR]}/, toInject: <Mana symbol=\"r\" cost shadow={shadow} /> },\n    { toReplace: /{[gG]}/, toInject: <Mana symbol=\"g\" cost shadow={shadow} /> },\n    { toReplace: /{[cC]}/, toInject: <Mana symbol=\"c\" cost shadow={shadow} /> },\n    { toReplace: /{[pP]}/, toInject: <Mana symbol=\"p\" cost shadow={shadow} /> },\n    {\n      toReplace: /{[wW][pP]}|{[pP][wW]}/,\n      toInject: <Mana symbol=\"wp\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[uU][pP]}|{[pP][uU]}/,\n      toInject: <Mana symbol=\"up\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[bB][pP]}|{[pP][bB]}/,\n      toInject: <Mana symbol=\"bp\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[rR][pP]}|{[pP][rR]}/,\n      toInject: <Mana symbol=\"rp\" shadow={shadow} />\n    },\n    {\n      toReplace: /{[gG][pP]}|{[pP][gG]}/,\n      toInject: <Mana symbol=\"gp\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{2[wW]}|{[wW]2}/,\n      toInject: <Mana symbol=\"2w\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{2[uU]}|{[uU]2}/,\n      toInject: <Mana symbol=\"2u\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{2[bB]}|{[bB]2}/,\n      toInject: <Mana symbol=\"2b\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{2[rR]}|{[rR]2}/,\n      toInject: <Mana symbol=\"2r\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{2[gG]}|{[gG]2}/,\n      toInject: <Mana symbol=\"2g\" cost shadow={shadow} />\n    },\n    { toReplace: /{[sS]}/, toInject: <Mana symbol=\"s\" cost shadow={shadow} /> },\n    { toReplace: /{[xX]}/, toInject: <Mana symbol=\"x\" cost shadow={shadow} /> },\n    { toReplace: /{[yY]}/, toInject: <Mana symbol=\"y\" cost shadow={shadow} /> },\n    { toReplace: /{[zZ]}/, toInject: <Mana symbol=\"z\" cost shadow={shadow} /> },\n    {\n      toReplace: /{[wW][uU]}|{[uU][wW]}/,\n      toInject: <Mana symbol=\"wu\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[wW][bB]}|{[bB][wW]}/,\n      toInject: <Mana symbol=\"wb\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[bB][uU]}|{[uU][bB]}/,\n      toInject: <Mana symbol=\"ub\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[rR][uU]}|{[uU][rR]}/,\n      toInject: <Mana symbol=\"ur\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[bB][rR]}|{[rR][bB]}/,\n      toInject: <Mana symbol=\"br\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[bB][gG]}|{[gG][bB]}/,\n      toInject: <Mana symbol=\"bg\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[rR][gG]}|{[gG][rR]}/,\n      toInject: <Mana symbol=\"rg\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[wW][rR]}|{[rR][wW]}/,\n      toInject: <Mana symbol=\"rw\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[wW][gG]}|{[gG][wW]}/,\n      toInject: <Mana symbol=\"gw\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[uU][gG]}|{[gG][uU]}/,\n      toInject: <Mana symbol=\"gu\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[tT]}/,\n      toInject: <Mana symbol=\"tap\" cost shadow={shadow} />\n    },\n    {\n      toReplace: /{[uU][tT]}|{[tT][uU]}/,\n      toInject: <Mana symbol=\"untap\" cost shadow={shadow} />\n    }\n  ];\n\n  for (let i = 0; i <= 20; i += 1) {\n    config.push({\n      toReplace: new RegExp(`\\\\{${i}\\\\}`),\n      toInject: <Mana symbol={`${i}`} cost shadow={shadow} />\n    });\n  }\n\n  return injectWithConfig(text, config);\n};\n\nexport const injectPlaneswalkerIcons = (text: string | JSX.Element | (string | JSX.Element)[]) => {\n  const config: InjectionConfig[] = [\n    {\n      toReplace: /{\\+x}/,\n      toInject: <i className=\"ms ms-loyalty-up ms-loyalty-x\" />\n    },\n    {\n      toReplace: /{-x}/,\n      toInject: <i className=\"ms ms-loyalty-down ms-loyalty-x\" />\n    }\n  ];\n\n  for (let i = 0; i <= 20; i += 1) {\n    config.push({\n      toReplace: new RegExp(`{\\\\+${i}}`),\n      toInject: <i className={`ms ms-loyalty-${i} ms-loyalty-up`} />\n    });\n    config.push({\n      toReplace: new RegExp(`{\\\\-${i}}`),\n      toInject: <i className={`ms ms-loyalty-${i} ms-loyalty-down`} />\n    });\n  }\n\n  return injectWithConfig(text, config);\n};\n\nexport const injectNewLine = (text: string | JSX.Element | (string | JSX.Element)[]) => {\n  return injectWithConfig(text, {\n    toReplace: /\\|/,\n    toInject: <span className=\"new-instruction\" />\n  });\n};\n\nexport const injectName = (text: string | JSX.Element | (string | JSX.Element)[], name: string) => {\n  return injectWithConfig(text, {\n    toReplace: /~/,\n    toInject: name\n  });\n};\n\nexport const injectQuotationMarks = (text: string | JSX.Element | (string | JSX.Element)[]) => {\n  return injectWithConfig(text, {\n    toReplace: /\"(.*)\"/,\n    // toInject: '“”'\n    toInject: '“',\n    toInjectClose: '”'\n  });\n};\n\nexport const injectKeywords = (\n  text: string | JSX.Element | (string | JSX.Element)[],\n  keywords: string[]\n) => {\n  const config: InjectionConfig[] = [];\n  keywords.forEach(word => {\n    config.push({\n      toReplace: new RegExp(`${word}`),\n      toInject: 'italic',\n      toInjectClose: word\n    });\n  });\n\n  return injectWithConfig(text, config);\n};\n","import CardInterface from './interfaces/CardInterface';\nimport MechanicInterface from './interfaces/MechanicInterface';\nimport AnnotationInterface from './interfaces/AnnotationInterface';\nimport AnnotationAccessorInterface from './interfaces/AnnotationAccessorInterface';\n\nexport enum CardActionType {\n  RefreshCollection = 'refresh-collection',\n  CreateCard = 'create-card',\n  BulkReadCard = 'bulk-read-card',\n  ReadCard = 'read-card',\n  UpdateCard = 'update-card',\n  DeleteCard = 'delete-card'\n}\n\nexport enum MechanicActionType {\n  GetMechanics = 'get-mechanics',\n  CreateMechanic = 'create-mechanic',\n  UpdateMechanic = 'update-mechanic',\n  DeleteMechanic = 'delete-mechanic'\n}\n\nexport enum AnnotationActionType {\n  GetAnnotations = 'get-annotations',\n  CreateAnnotation = 'create-annotation',\n  UpdateAnnotation = 'update-annotation',\n  DeleteAnnotation = 'delete-annotation'\n}\n\ntype State = {\n  cards: CardInterface[];\n  mechanics: MechanicInterface[];\n  annotationAccessor: AnnotationAccessorInterface;\n  newUuid?: string;\n};\n\nexport type Action =\n  | { type: CardActionType.RefreshCollection }\n  | { type: CardActionType.CreateCard; payload: { card: CardInterface } }\n  | { type: CardActionType.BulkReadCard; payload: { cards: CardInterface[] } }\n  | { type: CardActionType.ReadCard; payload: { card: CardInterface } }\n  | { type: CardActionType.UpdateCard; payload: { card: CardInterface } }\n  | { type: CardActionType.DeleteCard; payload: { uuid: string } }\n  | { type: MechanicActionType.GetMechanics; payload: { mechanics: MechanicInterface[] } }\n  | { type: MechanicActionType.CreateMechanic; payload: { mechanic: MechanicInterface } }\n  | { type: MechanicActionType.UpdateMechanic; payload: { mechanic: MechanicInterface } }\n  | { type: MechanicActionType.DeleteMechanic; payload: { uuid: string } }\n  | { type: AnnotationActionType.GetAnnotations; payload: { annotations: AnnotationInterface[] } }\n  | { type: AnnotationActionType.CreateAnnotation; payload: { annotation: AnnotationInterface } }\n  | { type: AnnotationActionType.UpdateAnnotation; payload: { annotation: AnnotationInterface } }\n  | { type: AnnotationActionType.DeleteAnnotation; payload: { uuid: string } };\n\nconst cardReducer: React.Reducer<State, Action> = (state, action) => {\n  let annotationAccessor: AnnotationAccessorInterface;\n\n  switch (action.type) {\n    case CardActionType.RefreshCollection:\n      return {\n        ...state,\n        cards: state.cards.map(card => ({ ...card, loading: true }))\n      };\n    case CardActionType.CreateCard:\n      return {\n        ...state,\n        cards: [...state.cards, action.payload.card],\n        newUuid: action.payload.card.uuid\n      };\n    case CardActionType.ReadCard:\n      return {\n        ...state,\n        cards: [\n          ...state.cards.filter(card => card.uuid !== action.payload.card.uuid),\n          action.payload.card\n        ]\n      };\n    case CardActionType.BulkReadCard:\n      return {\n        ...state,\n        cards: [\n          ...state.cards.filter(\n            card => !action.payload.cards.find(newCard => newCard.uuid === card.uuid)\n          ),\n          ...action.payload.cards\n        ]\n      };\n    case CardActionType.UpdateCard:\n      return {\n        ...state,\n        cards: [\n          ...state.cards.filter(card => card.uuid !== action.payload.card.uuid),\n          action.payload.card\n        ]\n      };\n    case CardActionType.DeleteCard:\n      return {\n        ...state,\n        cards: [...state.cards.filter(card => card.uuid !== action.payload.uuid)]\n      };\n\n    case MechanicActionType.GetMechanics:\n      return {\n        ...state,\n        mechanics: action.payload.mechanics\n      };\n    case MechanicActionType.CreateMechanic:\n      return {\n        ...state,\n        mechanics: [...state.mechanics, action.payload.mechanic]\n      };\n    case MechanicActionType.UpdateMechanic:\n      return {\n        ...state,\n        mechanics: [\n          ...state.mechanics.filter(mechanic => mechanic.uuid !== action.payload.mechanic.uuid),\n          action.payload.mechanic\n        ]\n      };\n    case MechanicActionType.DeleteMechanic:\n      return {\n        ...state,\n        mechanics: [...state.mechanics.filter(mechanic => mechanic.uuid !== action.payload.uuid)]\n      };\n    case AnnotationActionType.GetAnnotations:\n      // eslint-disable-next-line no-case-declarations\n      annotationAccessor = {};\n\n      action.payload.annotations.forEach(annotation => {\n        if (!annotationAccessor[annotation.cardReference]) {\n          annotationAccessor[annotation.cardReference] = [annotation];\n        } else annotationAccessor[annotation.cardReference].push(annotation);\n      });\n      return {\n        ...state,\n        annotationAccessor\n      };\n    case AnnotationActionType.CreateAnnotation:\n      // eslint-disable-next-line no-case-declarations\n      annotationAccessor = { ...state.annotationAccessor };\n      if (!state.annotationAccessor[action.payload.annotation.cardReference]) {\n        annotationAccessor[action.payload.annotation.cardReference] = [action.payload.annotation];\n      } else\n        annotationAccessor[action.payload.annotation.cardReference].push(action.payload.annotation);\n\n      return {\n        ...state,\n        annotationAccessor\n      };\n    case AnnotationActionType.UpdateAnnotation:\n      annotationAccessor = { ...state.annotationAccessor };\n      if (!state.annotationAccessor[action.payload.annotation.cardReference]) {\n        annotationAccessor[action.payload.annotation.cardReference] = [action.payload.annotation];\n      } else\n        annotationAccessor[action.payload.annotation.cardReference] = [\n          ...annotationAccessor[action.payload.annotation.cardReference].filter(\n            annotation => annotation.uuid !== action.payload.annotation.uuid\n          ),\n          action.payload.annotation\n        ];\n\n      return {\n        ...state,\n        annotationAccessor\n      };\n    case AnnotationActionType.DeleteAnnotation:\n      annotationAccessor = { ...state.annotationAccessor };\n      Object.values(annotationAccessor).map(list =>\n        list.filter(annotation => annotation.uuid !== action.payload.uuid)\n      );\n\n      return {\n        ...state,\n        annotationAccessor\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default cardReducer;\n","import { CardMainType, ColorType } from '../../interfaces/enums';\n\nconst cardToColor = (\n  cardMainType: CardMainType,\n  manaCost?: string\n): { color: ColorType; allColors: ColorType[] } => {\n  let color: ColorType = ColorType.Colorless;\n  const allColors: ColorType[] = [];\n  if (cardMainType === CardMainType.Land) {\n    color = ColorType.Land;\n  } else {\n    if (!manaCost) return { color: ColorType.Colorless, allColors: [ColorType.Colorless] };\n\n    const setColor = (type: ColorType) => {\n      if (color === type) return;\n      if (color === ColorType.Colorless) color = type;\n      else color = ColorType.Gold;\n\n      allColors.push(type);\n    };\n\n    const array = manaCost.split(/{(.)}|{(..)}/);\n    array.forEach((cost: string) => {\n      if (!cost || cost === '') return;\n      switch (cost) {\n        case 'w':\n        case 'W':\n        case 'wp':\n        case 'Wp':\n        case 'wP':\n        case 'WP':\n        case 'pw':\n        case 'pW':\n        case 'Pw':\n        case 'PW':\n          setColor(ColorType.White);\n          break;\n        case 'u':\n        case 'U':\n        case 'up':\n        case 'Up':\n        case 'uP':\n        case 'UP':\n        case 'pu':\n        case 'pU':\n        case 'Pu':\n        case 'PU':\n          setColor(ColorType.Blue);\n          break;\n        case 'b':\n        case 'B':\n        case 'bp':\n        case 'Bp':\n        case 'bP':\n        case 'BP':\n        case 'pb':\n        case 'pB':\n        case 'Pb':\n        case 'PB':\n          setColor(ColorType.Black);\n          break;\n        case 'r':\n        case 'R':\n        case 'rp':\n        case 'Rp':\n        case 'rP':\n        case 'RP':\n        case 'pr':\n        case 'pR':\n        case 'Pr':\n        case 'PR':\n          setColor(ColorType.Red);\n          break;\n        case 'g':\n        case 'G':\n        case 'gp':\n        case 'Gp':\n        case 'gP':\n        case 'GP':\n        case 'pg':\n        case 'pG':\n        case 'Pg':\n        case 'PG':\n          setColor(ColorType.Green);\n          break;\n        default:\n          // do nothing\n          break;\n      }\n    });\n  }\n\n  return { color, allColors };\n};\n\nexport default cardToColor;\n","import React, { useState } from 'react';\n\nimport styles from './ImageLoader.module.scss';\n\nconst ImageLoader = ({\n  src,\n  className,\n  alt,\n  id,\n  ...restProps\n}: {\n  src: string;\n  className?: string;\n  alt?: string;\n  id?: string;\n  restProps?: any;\n}) => {\n  const [loaded, setLoaded] = useState(false);\n\n  return (\n    <img\n      src={src}\n      className={`${className} ${loaded ? styles.imgLoaded : styles.imgLoading}`}\n      onLoad={() => setLoaded(true)}\n      alt={alt}\n      id={id}\n      {...restProps}\n    />\n  );\n};\n\nexport default ImageLoader;\n","import React, { createContext, useReducer } from 'react';\nimport reducer, { Action } from './cardReducer';\nimport CardInterface from './interfaces/CardInterface';\nimport MechanicInterface from './interfaces/MechanicInterface';\nimport AnnotationAccessorInterface from './interfaces/AnnotationAccessorInterface';\n\nexport type StoreType = {\n  cards: CardInterface[];\n  newUuid?: string;\n  mechanics: MechanicInterface[];\n  annotationAccessor: AnnotationAccessorInterface;\n  keywords: string[];\n  cardSubTypes: string[];\n  creators: string[];\n  dispatch: (value: Action) => void;\n};\n\nconst initialState = {\n  cards: [],\n  newUuid: undefined,\n  mechanics: [],\n  annotationAccessor: {},\n  keywords: [],\n  cardSubTypes: [],\n  creators: ['']\n};\n\nconst initialStore = {\n  ...initialState,\n  dispatch: () => {}\n};\n\nexport const Store = createContext<StoreType>(initialStore);\n\nexport function StoreProvider({ children }: { children: React.ReactNode }) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const value: StoreType = { ...initialStore, ...state, dispatch };\n\n  return <Store.Provider value={value}>{children}</Store.Provider>;\n}\n","import React, { useContext } from 'react';\n\nimport 'mana-font/css/mana.css';\n\nimport './css/reset.css';\n\nimport './css/background.css';\nimport './css/borders.scss';\nimport './css/icons.css';\nimport './css/card.css';\n// @ts-ignore\nimport LazyLoad from 'react-lazy-load';\nimport { CardMainType, Creators, RarityType } from '../../interfaces/enums';\n\nimport CommonIcon from './images/rarity/common.png';\nimport UncommonIcon from './images/rarity/uncommon.png';\nimport RareIcon from './images/rarity/rare.png';\nimport MythicRareIcon from './images/rarity/mythic.png';\n\nimport NoCover from './images/no-cover.jpg';\n// @ts-ignore\n\nimport {\n  injectManaIcons,\n  injectMechanics,\n  injectName,\n  injectPlaneswalkerIcons,\n  injectQuotationMarks\n} from './injectUtils';\nimport cardToColor from './cardToColor';\nimport ImageLoader from '../ImageLoader/ImageLoader';\nimport { Store, StoreType } from '../../store';\n\ninterface CardRender {\n  name: string;\n  rarity: RarityType;\n  creator?: string;\n  cardID: string;\n  manaCost: string;\n  legendary?: boolean;\n  cardMainType: CardMainType;\n  cardSubTypes?: string;\n  cardText: string[];\n  cardStats?: string;\n  flavourText?: string;\n  flavourAuthor?: string;\n  cover?: string;\n  backFace?: boolean;\n  collectionNumber: number;\n  collectionSize: number;\n  containerWidth?: number;\n  smallText?: boolean;\n}\n\nconst CardRender = (cardRender: CardRender) => {\n  const { legendary, cardMainType, cardSubTypes, rarity } = cardRender;\n  const { name, manaCost, cardStats, cover, creator } = cardRender;\n  const { cardText, flavourText, flavourAuthor, cardID } = cardRender;\n  const { backFace, collectionNumber, collectionSize } = cardRender;\n  const { containerWidth = 488, smallText } = cardRender;\n\n  const { mechanics } = useContext<StoreType>(Store);\n\n  const getRarityIcon = () => {\n    if (rarity === RarityType.MythicRare) return MythicRareIcon;\n    if (rarity === RarityType.Rare) return RareIcon;\n    if (rarity === RarityType.Uncommon) return UncommonIcon;\n    return CommonIcon;\n  };\n\n  const { color, allColors } = cardToColor(cardMainType, manaCost);\n\n  let cssColorName: string = color;\n  if (cardMainType === CardMainType.Planeswalker) {\n    if (allColors.length === 1) cssColorName = `${color}-${color}`;\n    if (allColors.length === 2) cssColorName = `${allColors[0]}-${allColors[1]}`;\n    if (allColors.length > 2) cssColorName = `gold-gold`;\n  }\n\n  const rarityCode = () => {\n    if (rarity === RarityType.Uncommon) return 'U';\n    if (rarity === RarityType.Rare) return 'R';\n    if (rarity === RarityType.MythicRare) return 'M';\n    return 'C';\n  };\n\n  const resizeFactor = (width: number) => {\n    return width / 488.0;\n  };\n\n  const getHeight = (width: number) => {\n    return resizeFactor(width) * 680;\n  };\n\n  return (\n    <div style={{ height: `${getHeight(containerWidth)}px` }}>\n      <div\n        id={`card-id-${cardID}`}\n        className=\"card-container\"\n        style={{\n          transform: `scale(${resizeFactor(containerWidth)})`,\n          transformOrigin: 'top left'\n        }}\n      >\n        <LazyLoad debounce={false}>\n          <div>\n            <div className={`card-background card-background-${color}`} />\n            {/* <ImageLoader */}\n            {/*  className=\"card-background\" */}\n            {/*  src={colorToBackground()} */}\n            {/* /> */}\n            <div className=\"card-frame\">\n              <div\n                className={`frame-header-special-border frame-header-planeswalker-${cssColorName}`}\n              />\n              <div\n                className={`frame-header frame-header-${color} frame-header-planeswalker-${cssColorName}`}\n              >\n                <h1 className=\"name\">{injectQuotationMarks(name)}</h1>\n                {cardRender.cardMainType !== CardMainType.Land && !backFace && (\n                  <div className=\"cost\">{injectManaIcons(manaCost, true)}</div>\n                )}\n              </div>\n\n              <ImageLoader\n                src={cover || NoCover}\n                alt=\"cover\"\n                className={`frame-art frame-art-${cssColorName}`}\n              />\n\n              <div\n                className={`frame-type-line frame-type-line-${color} frame-type-line-${cssColorName}`}\n              >\n                <h1 className=\"type\">\n                  {legendary ? 'Legendary ' : ''}\n                  {cardMainType}\n                  {/* long dash: – or — */}\n                  {cardSubTypes ? ` – ${cardSubTypes}` : ''}\n                </h1>\n                <ImageLoader src={getRarityIcon()} id=\"set-icon\" alt=\"rarity-icon\" />\n              </div>\n\n              <div\n                className={`frame-text-box frame-text-box-${color} frame-text-box-${cssColorName} ${\n                  smallText ? 'frame-text-small' : ''\n                }`}\n              >\n                <p className=\"description ftb-inner-margin\">\n                  {cardText.map(val => (\n                    <span className=\"new-instruction\">\n                      {injectQuotationMarks(\n                        injectPlaneswalkerIcons(\n                          injectManaIcons(injectName(injectMechanics(val, mechanics), name))\n                        )\n                      )}\n                    </span>\n                  ))}\n                </p>\n                <p className=\"flavour-text\">\n                  {flavourText && (\n                    <span>\n                      {flavourAuthor\n                        ? `“${injectName(flavourText, name)}”`\n                        : injectName(flavourText, name)}\n                      {flavourAuthor ? (\n                        <span>\n                          <br />\n                          {`— ${flavourAuthor}`}\n                        </span>\n                      ) : (\n                        ''\n                      )}\n                    </span>\n                  )}\n                </p>\n              </div>\n\n              <div\n                className={`${\n                  cardMainType === CardMainType.Creature ? 'frame-stats' : 'hidden'\n                } frame-stats-${color}`}\n              >\n                <div className={`frame-inner-stats frame-inner-stats-${color}`}>\n                  <h1 className=\"stats\">{cardStats}</h1>\n                </div>\n              </div>\n\n              <div\n                className={`${\n                  cardMainType === CardMainType.Planeswalker ? 'frame-loyalty' : 'hidden'\n                }`}\n              >\n                <div>\n                  <h1 className=\"stats\">\n                    <i\n                      className={`ms ms-loyalty-${cardStats} ms-loyalty-start loyalty-outline-start`}\n                    />\n                    <i className={`ms ms-loyalty-${cardStats} ms-loyalty-start`} />\n                  </h1>\n                </div>\n              </div>\n\n              <div className=\"frame-bottom-info inner-margin\">\n                <div className=\"fbi-left\">\n                  <p>{`${collectionNumber}/${collectionSize} ${rarityCode()}`}</p>\n                  <p>\n                    <span>EPIC &#x2022; EN</span>\n                    <img\n                      className=\"paintbrush\"\n                      src=\"https://image.ibb.co/e2VxAS/paintbrush_white.png\"\n                      alt=\"paintbrush icon\"\n                    />\n                    {creator || Creators.UNKNOWN}\n                  </p>\n                </div>\n\n                <div className=\"fbi-center\" />\n\n                <div className=\"fbi-right\">\n                  <br />\n                  <p>&#x99; &amp; &#169; 2019 Wizards of the Coast</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </LazyLoad>\n      </div>\n    </div>\n  );\n};\n\nexport const NonMemoCardRender = CardRender;\n\nexport default React.memo(CardRender);\n","import React from 'react';\n\nimport { Icon } from 'antd';\nimport styles from './styles.module.scss';\n\ninterface ActionHoverInterface {\n  northAction?: { icon: string; action: () => void };\n  southAction?: { icon: string; action: () => void };\n  eastAction?: { icon: string; action: () => void };\n  westAction?: { icon: string; action: () => void };\n  active?: boolean;\n  onHover?: () => void;\n}\n\nconst ActionHover: React.FC<ActionHoverInterface> = actions => {\n  const empty = { icon: '', action: () => {} };\n  const {\n    northAction = empty,\n    eastAction = empty,\n    westAction = empty,\n    southAction = empty,\n    active,\n    onHover = () => {}\n  } = actions;\n\n  return (\n    <div\n      className={`${styles.outer} ${active ? styles.active : ''}`}\n      onMouseEnter={() => onHover()}\n    >\n      <div className={styles.hovereffect}>\n        <div className={styles.target}>{actions.children}</div>\n        <div className={styles.overlay}>\n          <Icon\n            className={`${styles.action} ${styles.eastAction}`}\n            type={eastAction.icon}\n            onClick={eastAction.action}\n          />\n          <Icon\n            className={`${styles.action} ${styles.northAction}`}\n            type={northAction.icon}\n            onClick={northAction.action}\n          />\n          <Icon\n            className={`${styles.action} ${styles.westAction}`}\n            type={westAction.icon}\n            onClick={westAction.action}\n          />\n          <Icon\n            className={`${styles.action} ${styles.southAction}`}\n            type={southAction.icon}\n            onClick={southAction.action}\n          />\n          <div className={styles.rotate}>\n            <hr />\n            <hr />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ActionHover;\n","import React from 'react';\nimport styles from './index.module.scss';\n\nconst GlowingStar = () => <div className={styles.glowingStar} />;\nexport default GlowingStar;\n","import React, { useState } from 'react';\nimport { Button, Col, message, Spin } from 'antd';\n\n// @ts-ignore\nimport useResizeAware from 'react-resize-aware';\n\nimport CardRender from '../CardRender/CardRender';\nimport ActionHover from '../ActionHover/ActionHover';\nimport styles from './styles.module.css';\n\nimport CardInterface from '../../interfaces/CardInterface';\nimport CardFaceInterface from '../../interfaces/CardFaceInterface';\nimport GlowingStar from '../GlowingStar';\n\nexport interface CardCollectionInterface {\n  cards?: CardInterface[];\n  editCard: (id: string) => void;\n  downloadImage: (id: string) => void;\n  downloadJson: (id: string) => void;\n  viewCard: (id: string) => void;\n  currentEditId: string;\n  colSpan: number;\n  seenCardUuids: { [key: string]: boolean };\n  addSeenCard: (uuid: string) => void;\n}\n\ninterface BackConfigInterface {\n  [key: string]: boolean;\n}\n\nconst CardCollection = ({\n  cards = [],\n  editCard,\n  downloadJson,\n  viewCard,\n  currentEditId,\n  colSpan,\n  seenCardUuids,\n  addSeenCard\n}: CardCollectionInterface) => {\n  const [showBackFaceConfig, setShowBackFaceConfig] = useState<BackConfigInterface>({});\n\n  const getCardFace = (card: CardInterface): CardFaceInterface => {\n    if (!card.back || !showBackFaceConfig[card.uuid]) return card.front;\n    return { ...card.back, backFace: true };\n  };\n\n  const toggleShowBackConfig = (id: string) => {\n    const newConfig = { ...showBackFaceConfig };\n    newConfig[id] = !newConfig[id];\n    setShowBackFaceConfig(newConfig);\n  };\n\n  const [resizeListener, sizes] = useResizeAware();\n\n  return (\n    <div>\n      {resizeListener}\n      {cards.map((card, i) => {\n        const newCard = !seenCardUuids[card.uuid];\n        return (\n          <Col className={styles.cardBox} span={colSpan} key={card.uuid}>\n            {newCard && <GlowingStar />}\n            <Spin size=\"large\" spinning={!!card.loading}>\n              <ActionHover\n                onHover={() => {\n                  if (newCard) addSeenCard(card.uuid);\n                }}\n                active={currentEditId === card.uuid}\n                northAction={{\n                  icon: 'edit',\n                  action: () => editCard(card.uuid)\n                }}\n                // eastAction={{\n                //   icon: 'eye',\n                //   action: () => viewCard(card.uuid)\n                // }}\n                southAction={{\n                  icon: 'download',\n                  action: () => downloadJson(card.uuid)\n                }}\n                // westAction={{\n                //   icon: 'file-text',\n                //   action: () => downloadJson(card.uuid)\n                // }}\n              >\n                <CardRender\n                  containerWidth={(sizes.width / 24) * colSpan - 8}\n                  {...getCardFace(card)}\n                  cardID={card.uuid}\n                  rarity={card.rarity}\n                  manaCost={card.manaCost}\n                  creator={card.creator}\n                  collectionNumber={i + 1}\n                  collectionSize={cards.length}\n                  smallText\n                />\n              </ActionHover>\n            </Spin>\n            {card.back && (\n              <Button\n                icon=\"swap\"\n                className={styles.swapButton}\n                onClick={() => toggleShowBackConfig(card.uuid)}\n              />\n            )}\n          </Col>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default CardCollection;\n","import { Button, Checkbox, Icon, Input, List, Select } from 'antd';\nimport React from 'react';\nimport styles from './styles.module.scss';\n\nconst { TextArea } = Input;\n\ninterface EditFieldInterface {\n  fieldKey: string;\n  type: string;\n  name: string;\n  data?: string[];\n  getValue: (key: string) => any;\n  saveValue: (key: string, value: any) => void;\n}\n\nconst EditField = (props: EditFieldInterface) => {\n  const { type, fieldKey, name, data, getValue, saveValue } = props;\n\n  if (type === 'input') {\n    return (\n      <span>\n        <p className={styles.label}>{name}</p>\n        <Input\n          size=\"small\"\n          value={getValue(fieldKey)}\n          onChange={e => saveValue(fieldKey, e.target.value)}\n        />\n      </span>\n    );\n  }\n\n  if (type === 'split-input') {\n    const splitArray = getValue(fieldKey) ? getValue(fieldKey).split('/') : ['', ''];\n    if (splitArray.length < 2) splitArray.push('');\n\n    return (\n      <span>\n        <div className={styles.splitInput}>\n          <p className={styles.label}>{name.split('/')[0]}</p>\n          <Input\n            size=\"small\"\n            value={splitArray[0]}\n            onChange={e => saveValue(fieldKey, `${e.target.value}/${splitArray[1]}`)}\n          />\n        </div>\n        <div className={styles.splitInput}>\n          <p className={styles.label}>{name.split('/')[1]}</p>\n          <Input\n            size=\"small\"\n            value={splitArray[1]}\n            onChange={e => saveValue(fieldKey, `${splitArray[0]}/${e.target.value}`)}\n          />\n        </div>\n      </span>\n    );\n  }\n\n  if (type === 'area') {\n    return (\n      <span>\n        <p className={styles.label}>{name}</p>\n        <TextArea\n          value={getValue(fieldKey)}\n          onChange={e => saveValue(fieldKey, e.target.value)}\n          autosize\n        />\n      </span>\n    );\n  }\n\n  if (type === 'bool') {\n    return (\n      <div>\n        <div className={styles.label}>\n          <Checkbox\n            checked={getValue(fieldKey)}\n            onChange={e => saveValue(fieldKey, e.target.checked)}\n          >\n            {name}\n          </Checkbox>\n        </div>\n      </div>\n    );\n  }\n\n  if (type === 'select' && data) {\n    return (\n      <span>\n        <p className={styles.label}>{name}</p>\n        <Select\n          size=\"small\"\n          value={getValue(fieldKey)}\n          onChange={(value: string) => saveValue(fieldKey, value)}\n          style={{ width: '100%' }}\n        >\n          {data.map(d => (\n            <Select.Option key={`${fieldKey} + ${d}`} value={d}>\n              {d}\n            </Select.Option>\n          ))}\n        </Select>\n      </span>\n    );\n  }\n\n  if (type === 'list') {\n    return (\n      <span>\n        <p className={styles.label}>{name}</p>\n        <List\n          size=\"small\"\n          bordered\n          dataSource={getValue(fieldKey)}\n          renderItem={(item: string, i) => (\n            <List.Item\n              className={styles.listItem}\n              actions={[\n                <Icon\n                  type=\"close-circle\"\n                  theme=\"twoTone\"\n                  twoToneColor=\"#FF0000\"\n                  onClick={() => {\n                    const list = getValue(fieldKey);\n                    list.splice(i, 1);\n                    saveValue(fieldKey, list);\n                  }}\n                />\n              ]}\n            >\n              <TextArea\n                value={item}\n                onChange={e => {\n                  const list = getValue(fieldKey);\n                  list[i] = e.target.value;\n                  saveValue(fieldKey, list);\n                }}\n                autosize\n              />\n            </List.Item>\n          )}\n          footer={\n            <div className={styles.centerParent}>\n              <Button\n                size=\"small\"\n                onClick={() => {\n                  const list = getValue(fieldKey);\n                  list.push('');\n                  saveValue(fieldKey, list);\n                }}\n              >\n                Add Instruction\n              </Button>\n            </div>\n          }\n        />\n      </span>\n    );\n  }\n\n  return <div />;\n};\n\nexport default EditField;\n","import React from 'react';\nimport { Popover, Icon, Table } from 'antd';\n// @ts-ignore\nimport { Mana } from '@saeris/react-mana';\n\ninterface EditorTooltip {\n  className: string;\n}\n\nconst columns = [\n  {\n    title: 'Code',\n    dataIndex: 'code',\n    key: 'code'\n  },\n  {\n    title: 'Icon',\n    dataIndex: 'icon',\n    key: 'icon'\n  }\n];\n\nconst dataSource: { key: number; code: string; icon: JSX.Element }[] = [];\n\nconst addToDataSource = (code: string, icon: JSX.Element) => {\n  dataSource.push({ key: dataSource.length + 1, code, icon });\n};\n\naddToDataSource('~', <span>Card Name</span>);\naddToDataSource(\n  '{w}{u}{b}{r}{g}{c}',\n  <span>\n    <Mana symbol=\"w\" shadow />\n    <Mana symbol=\"u\" shadow />\n    <Mana symbol=\"b\" shadow />\n    <Mana symbol=\"r\" shadow />\n    <Mana symbol=\"g\" shadow />\n    <Mana symbol=\"c\" shadow />\n  </span>\n);\naddToDataSource(\n  '{0} - {20}',\n  <span>\n    <Mana symbol=\"0\" shadow /> – <Mana symbol=\"20\" shadow />\n  </span>\n);\naddToDataSource(\n  '{t}{ut}',\n  <span>\n    <Mana symbol=\"tap\" shadow />\n    <Mana symbol=\"untap\" shadow />\n  </span>\n);\naddToDataSource(\n  '{wp}{up}{bp}{rp}{gp}{p}',\n  <span>\n    <Mana symbol=\"wp\" shadow />\n    <Mana symbol=\"up\" shadow />\n    <Mana symbol=\"bp\" shadow />\n    <Mana symbol=\"rp\" shadow />\n    <Mana symbol=\"gp\" shadow />\n    <Mana symbol=\"p\" shadow />\n  </span>\n);\naddToDataSource(\n  '{x}{y}{z}',\n  <span>\n    <Mana symbol=\"x\" shadow />\n    <Mana symbol=\"y\" shadow />\n    <Mana symbol=\"z\" shadow />\n  </span>\n);\naddToDataSource(\n  '{2w}{2u}{2b}{2r}{2g}',\n  <span>\n    <Mana symbol=\"2w\" shadow />\n    <Mana symbol=\"2u\" shadow />\n    <Mana symbol=\"2b\" shadow />\n    <Mana symbol=\"2r\" shadow />\n    <Mana symbol=\"2g\" shadow />\n  </span>\n);\naddToDataSource(\n  '{wu}{wb}{ub}{ur}{br}',\n  <span>\n    <Mana symbol=\"wu\" shadow />\n    <Mana symbol=\"wb\" shadow />\n    <Mana symbol=\"ub\" shadow />\n    <Mana symbol=\"ur\" shadow />\n    <Mana symbol=\"br\" shadow />\n  </span>\n);\naddToDataSource(\n  '{bg}{rg}{rw}{gw}{gu}',\n  <span>\n    <Mana symbol=\"bg\" shadow />\n    <Mana symbol=\"rg\" shadow />\n    <Mana symbol=\"rw\" shadow />\n    <Mana symbol=\"gw\" shadow />\n    <Mana symbol=\"gu\" shadow />\n  </span>\n);\naddToDataSource(\n  '{loy+5}{loy-5}{loy0}{loy5}',\n  <span>\n    <Mana symbol=\"loyalty-up\" shadow loyalty={5} />\n    <Mana symbol=\"loyalty-down\" shadow loyalty={5} />\n    <Mana symbol=\"loyalty-zero\" shadow loyalty={0} />\n    <Mana symbol=\"loyalty-start\" shadow loyalty={5} />\n  </span>\n);\naddToDataSource(\n  '{loy+x}{loy-x}{loyx}',\n  <span>\n    <Mana symbol=\"loyalty-up\" shadow loyalty=\"X\" />\n    <Mana symbol=\"loyalty-down\" shadow loyalty=\"X\" />\n    <Mana symbol=\"loyalty-start\" shadow loyalty=\"X\" />\n  </span>\n);\n\nconst content = (\n  <Table\n    dataSource={dataSource}\n    columns={columns}\n    size=\"small\"\n    showHeader={false}\n    pagination={false}\n    bordered={true}\n  />\n);\n\nconst EditorTooltip: React.FC<EditorTooltip> = props => (\n  <Popover {...props} content={content} placement=\"bottom\" title=\"Icon Codes\">\n    <Icon type=\"question-circle\" />\n  </Popover>\n);\n\nexport default EditorTooltip;\n","// @ts-ignore\nimport assert from 'assert-plus';\nimport axios from 'axios';\n\n/**\n * The authorization token with which calls to the API are made.\n * @type {String}\n */\nlet _token = '';\n\nconst API_VERSION = '2/';\n\nconst AUTHORIZE_ENDPOINT = 'https://www.dropbox.com/oauth2/authorize';\nconst CONTENT_ENDPOINT = 'https://content.dropboxapi.com/';\nconst RPC_ENDPOINT = 'https://api.dropboxapi.com/';\n\n/**\n * Regex for testing the format of an apiMethod.\n * @type {RegExp}\n */\nconst apiMethodRegex = /^([a-z_2]+\\/)*[a-z_2]+$/;\n\n/**\n * Authorize via OAuth 2.0 for Dropbox API calls.\n *\n * @parameter {string} clientId your app's key\n * @parameter {string} redirectUri the uri where the user should be redirected\n * to, after authorization has completed\n * @return {function} a promise that resolves or fails both with the returned\n * HTTP status code\n */\nconst authorize = (clientId: string, redirectUri = '') => {\n  // eslint-disable-next-line no-undef\n  return new Promise((resolve, reject) => {\n    reject('Not implemented yet, please obtain a token manually and store it via setToken');\n  });\n};\n\n/**\n * Set the token that is used for all Dropbox API calls to the given value.\n * If you set this value, you can omit the `token` parameter in all the calls\n * to this library.\n * @param  {string} token The new token value.\n */\nconst setToken = (token: string) => {\n  _token = token;\n};\n\n/**\n * Generic function for loading content from the Dropbox given an endpoint-method\n * combination. If no wrapper function for the method you need exists, feel free\n * to use this for your GET calls to the Dropbox API.\n *\n * See https://www.dropbox.com/developers/documentation/http/documentation for\n * the documentation of the Dropbox HTTP API.\n *\n * @param  {string} apiMethod the method to call\n * @param  {object} apiArgs an object that is passed as the Dropbox-API-Arg header\n * @param  {string?} endpoint the URL endpoint to use; defaults to\n * https://content.dropboxapi.com as this is used for all file operations,\n * which are most frequently used when operating on a dropbox\n * @param  {string?} token your Dropbox API token\n * (defaults to the value set via setToken`)\n * @return {function} a promise that, depending on if your call was successfull,\n * either resolves or rejects with the answer from the Dropbox HTTP Api. You\n * probably want to access some data that is returned by the call; this can be\n * achieved by calling `text()` on the result returned by the promise.\n */\nconst get = (apiMethod: string, apiArgs: object, endpoint = CONTENT_ENDPOINT, token = _token) => {\n  assert.string(apiMethod, `invalid argument ${apiMethod} (expected: string)`);\n  assert.ok(apiMethodRegex.test(apiMethod), `apiMethod has an unexpected format: ${apiMethod}`);\n  assert.object(apiArgs, `invalid argument ${apiArgs} (expected: object)`);\n  assert.string(endpoint, `invalid argument ${endpoint} (expected: string)`);\n  assert.string(token, `invalid argument ${token} (expected: string)`);\n\n  return axios.get(endpoint + API_VERSION + apiMethod, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Dropbox-API-Arg': JSON.stringify(apiArgs)\n    }\n  });\n};\n\n/**\n * Generic function for posting some content to a given endpoint using a certain\n * API method. If no wrapper function for the method you need exists, feel free\n * to use this for your POST calls to the Dropbox API.\n *\n * See https://www.dropbox.com/developers/documentation/http/documentation for\n * the documentation of the Dropbox HTTP API.\n *\n * @param  {string} apiMethod the method to call\n * @param  {object} apiArgs an object that is passed as the Dropbox-API-Arg header\n * @param  {any} content the content to upload\n * @param  {string=} endpoint the URL endpoint to use; defaults to\n * https://content.dropboxapi.com as this is used for all file operations,\n * which are most frequently used when operating on a dropbox\n * @param  {string=} token your Dropbox API token\n * (defaults to the value set via setToken`)\n * @return {function} a promise that, depending on if your call was successfull,\n * either resolves or rejects with the answer from the Dropbox HTTP Api\n */\nconst post = (\n  apiMethod: string,\n  apiArgs: object,\n  content: any,\n  endpoint = CONTENT_ENDPOINT,\n  token = _token\n) => {\n  assert.string(apiMethod, `invalid argument ${apiMethod} (expected: string)`);\n  assert.ok(apiMethodRegex.test(apiMethod), `apiMethod has an unexpected format: ${apiMethod}`);\n  assert.object(apiArgs, `invalid argument ${apiArgs} (expected: object)`);\n  // no assertion for content - can be anything\n  assert.string(endpoint, `invalid argument ${endpoint} (expected: string)`);\n  assert.string(token, `invalid argument ${token} (expected: string)`);\n\n  return axios.post(endpoint + API_VERSION + apiMethod, content, {\n    headers: {\n      'Content-Type': 'application/octet-stream',\n      Authorization: `Bearer ${token}`,\n      'Dropbox-API-Arg': JSON.stringify(apiArgs)\n    }\n  });\n};\n\n/**\n * Upload the given file to the dropbox.\n * @param  {object} file an object describing the file, consisting of:\n *  - {string} path the path in the dropbox where the file should\n * be uploaded to, with a leading slash. Use forward slashes.\n *  - {string} mode what to do when the file already exists ('add', 'overwrite' or 'update')\n *  - {boolean} autorename\n *  - {boolean} mute\n * @param  {string} content the content  that should be written to the file\n * described in the apiArgs parameter\n * @param  {string=} token the OAuth 2 token that is used to access your app;\n * can be omitted (in this case, the token that is set via `setToken` is used)\n * @return {function} a promise that resolves when the upload is complete or\n * fails with an error message\n */\nconst upload = (\n  {\n    path,\n    mode = 'add',\n    autorename = true,\n    mute = false\n  }: { path: string; mode?: string | object; autorename?: boolean; mute?: boolean },\n  content: any,\n  token = _token\n) => {\n  assert.string(path);\n  // assert.object(mode);\n  assert.bool(autorename);\n  assert.bool(mute);\n\n  if (!path.startsWith('/')) {\n    path = `/${path}`;\n  }\n\n  return post('files/upload', { path, mode, autorename, mute }, content, CONTENT_ENDPOINT, token);\n};\n\n/**\n * Download the file specified by a path from the user's Dropbox.\n * @param {string} path the path of the file to download\n * @param {string=} token the OAuth 2 token that is used to access your app;\n * can be omitted (in this case, the token that is set via `setToken` is used)\n * @return {function} a promise that resolves when the upload is complete or\n * fails with an error message\n */\nconst download = (path: string, token = _token) => {\n  assert.string(path, `invalid argument ${path} (expected: string)`);\n  assert.string(token, `invalid argument ${token} (expected: string)`);\n\n  return get('files/download', { path }, CONTENT_ENDPOINT, token);\n};\n\nconst zip = (path: string, token = _token) => {\n  assert.string(path, `invalid argument ${path} (expected: string)`);\n  assert.string(token, `invalid argument ${token} (expected: string)`);\n\n  return get('files/download_zip', { path }, CONTENT_ENDPOINT, token);\n};\n\n/**\n * Get the metadata of the specified file. Useful for testing whether a file\n * exists or how big the download would be.\n * @param  {string} path the path of the file. Can also be an id (prepend the\n * id with 'id:') or a revision (prepend with 'rev:').\n * @param  {boolean=false} includeMediaInfo obtain additional info for photos or\n * videos\n * @param  {boolean=false} includeDeleted get metadata even if the file was\n * deleted\n * @param  {boolean=false} includeHasExplicitSharedMembers include a flag that\n * indicates whether a file has any explicitly shared members\n * @param  {string=} token the OAuth 2 token that is used to access your app;\n * can be omitted (in this case, the token that is set via `setToken` is used)\n * @return {function} a promise that resolves when the metadata is received or\n * fails with an error message\n * The output can be obtained by calling text() on the returned promise.\n */\nconst getMetadata = (\n  path: string,\n  includeMediaInfo = false,\n  includeDeleted = false,\n  includeHasExplicitSharedMembers = false,\n  token = _token\n) => {\n  assert.string(path);\n  assert.bool(includeMediaInfo);\n  assert.bool(includeDeleted);\n  assert.bool(includeHasExplicitSharedMembers);\n  assert.string(token);\n\n  return fetch(`${RPC_ENDPOINT + API_VERSION}files/get_metadata`, {\n    method: 'POST',\n    headers: {\n      'Access-Control-Allow-Origin': '*',\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      path,\n      // eslint-disable-next-line @typescript-eslint/camelcase,@typescript-eslint/camelcase\n      include_media_info: includeMediaInfo,\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      include_deleted: includeDeleted,\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      include_has_explicit_shared_members: includeHasExplicitSharedMembers\n    })\n  });\n};\n\n// eslint-disable-next-line no-undef\nexport default {\n  AUTHORIZE_ENDPOINT,\n  CONTENT_ENDPOINT,\n  RPC_ENDPOINT,\n  authorize,\n  download,\n  zip,\n  get,\n  getMetadata,\n  post,\n  setToken,\n  upload\n};\n","import dropboxAccess from './utils/dropbox-fetch-axios';\n\nconst LOCALSTORAGE_KEY = 'api_key';\n\ndropboxAccess.setToken(localStorage.getItem(LOCALSTORAGE_KEY) || '');\n\nexport const updateAccessToken = (token: string) => {\n  localStorage.setItem(LOCALSTORAGE_KEY, token);\n  dropboxAccess.setToken(localStorage.getItem(LOCALSTORAGE_KEY) || '');\n};\n\nexport const getAccessToken = () => {\n  return localStorage.getItem(LOCALSTORAGE_KEY) || '';\n};\n\nexport const hasAccessToken = (): boolean => {\n  return !!localStorage.getItem(LOCALSTORAGE_KEY);\n};\n\nexport const getDropboxInstance = () => {\n  dropboxAccess.setToken(localStorage.getItem(LOCALSTORAGE_KEY) || '');\n  return dropboxAccess;\n};\n","import uuidv4 from 'uuid/v4';\nimport axios from 'axios';\n\nimport { message } from 'antd';\nimport moment from 'moment';\nimport { Action, CardActionType } from '../cardReducer';\nimport { CardMainType, CardVersion, Creators, RarityType } from '../interfaces/enums';\n\nimport CardInterface from '../interfaces/CardInterface';\nimport { getAccessToken } from '../dropboxService';\n\nconst MIDDLEWARE_ENDPOINT = process.env.NODE_ENV === 'production' ? '' : 'http://localhost:3001';\n\nexport const EMPTY_CARD = (): CardInterface => ({\n  name: '',\n  uuid: uuidv4(),\n  front: {\n    name: '',\n    cardMainType: CardMainType.Creature,\n    cardText: []\n  },\n  manaCost: '',\n  rarity: RarityType.Common,\n  creator: Creators.UNKNOWN,\n  version: CardVersion.V1,\n  lastUpdated: moment().valueOf(),\n  createdAt: moment().valueOf()\n});\n\nexport const refreshCollection = (dispatch: (value: Action) => void) => {\n  dispatch({\n    type: CardActionType.RefreshCollection\n  });\n\n  const request = `${MIDDLEWARE_ENDPOINT}/cards`;\n  axios\n    .get(request)\n    .then(result => {\n      // result.data.cards.forEach((card: CardInterface) => {\n      //   if (!card.createdAt) {\n      //     card.createdAt = moment().valueOf();\n      //     updateCard(dispatch, card);\n      //   }\n      // });\n\n      dispatch({\n        type: CardActionType.BulkReadCard,\n        payload: { cards: result.data.cards }\n      });\n    })\n    .catch(error => {\n      console.log(error);\n    });\n};\n\nexport const createCard = (dispatch: (value: Action) => void, card?: CardInterface) => {\n  const request = `${MIDDLEWARE_ENDPOINT}/cards`;\n  const args = card ? { card, accessKey: getAccessToken() } : { accessKey: getAccessToken() };\n\n  axios\n    .post(request, args)\n    .then(result => {\n      message.success('Successfully Created Card!');\n      return dispatch({\n        type: CardActionType.CreateCard,\n        payload: {\n          card: result.data.card\n        }\n      });\n    })\n    .catch(error => {\n      message.error('Failed creating a new card :(');\n      console.log(error);\n    });\n};\n\nexport const updateCard = (dispatch: (value: Action) => void, updated: CardInterface) => {\n  const request = `${MIDDLEWARE_ENDPOINT}/cards`;\n  axios\n    .put(request, { card: updated, accessKey: getAccessToken() })\n    .then(result => {\n      message.success('Successfully Updated Card');\n      return dispatch({\n        type: CardActionType.UpdateCard,\n        payload: {\n          card: result.data.card\n        }\n      });\n    })\n    .catch(error => {\n      message.error(\"Could'nt update the card\");\n      console.log(error);\n    });\n};\n","import React, { useContext, useEffect, useState } from 'react';\n// import CardFaceInterface from '../../interfaces/CardFaceInterface';\nimport { Button, Row } from 'antd';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport CardInterface from '../../interfaces/CardInterface';\n\nimport styles from './styles.module.scss';\nimport { CardMainType, CardVersion, Creators, RarityType } from '../../interfaces/enums';\nimport EditField from './EditField';\n\nimport CardFaceInterface from '../../interfaces/CardFaceInterface';\nimport EditorTooltip from '../EditorTooltip/EditorTooltip';\nimport { updateCard } from '../../actions/cardActions';\nimport { Store, StoreType } from '../../store';\n\ninterface CardEditorInterface {\n  card?: CardInterface;\n  saveTmpCard: (card: CardInterface | null) => void;\n}\n\nconst NO_CARD = '-1';\n\nconst dummyCard: CardInterface = {\n  name: '',\n  uuid: NO_CARD,\n  manaCost: '',\n  rarity: RarityType.Common,\n  front: {\n    name: '',\n    cardMainType: CardMainType.Creature,\n    cardText: []\n  },\n  version: CardVersion.V1,\n  lastUpdated: moment().valueOf(),\n  createdAt: moment().valueOf(),\n  creator: Creators.UNKNOWN\n};\n\nconst CardEditor: React.FC<CardEditorInterface> = ({\n  card = dummyCard,\n  saveTmpCard\n}: CardEditorInterface) => {\n  const [contentChanged, setContentChanged] = useState<boolean>(false);\n  const [originalCard, setOriginalCard] = useState<CardInterface>(_.cloneDeep(card));\n  const [tmpCard, setTmpCard] = useState<CardInterface>(_.cloneDeep(card));\n  const [timerId, setTimerId] = useState<any>(NO_CARD);\n\n  const [editBack, setEditBack] = useState<boolean>(false);\n\n  const { dispatch, cards } = useContext<StoreType>(Store);\n\n  const getCurrentFace = (currentCard: CardInterface): CardFaceInterface => {\n    if (currentCard.back && editBack) return currentCard.back;\n    return currentCard.front;\n  };\n\n  const getValue = (key: string): any => {\n    if (key === 'rarity' || key === 'creator' || key === 'manaCost') return tmpCard[key];\n    return getCurrentFace(tmpCard)[key];\n  };\n\n  const saveValue = (key: string, value: any) => {\n    const newTmpCard = { ...tmpCard };\n    if (key === 'name') {\n      getCurrentFace(newTmpCard)[key] = value;\n      if (newTmpCard.back) {\n        newTmpCard.name = `${newTmpCard.front.name} // ${newTmpCard.back.name}`;\n      } else {\n        newTmpCard.name = `${newTmpCard.front.name}`;\n      }\n    } else if (key === 'rarity' || key === 'creator' || key === 'manaCost') {\n      newTmpCard[key] = value;\n    } else {\n      getCurrentFace(newTmpCard)[key] = value;\n    }\n    setTmpCard(newTmpCard);\n\n    setContentChanged(true);\n\n    clearTimeout(timerId);\n    const tmpId = setTimeout(() => {\n      saveTmpCard(newTmpCard);\n    }, 300);\n    setTimerId(tmpId);\n  };\n\n  const discardChanges = () => {\n    if (!contentChanged) return;\n\n    setTmpCard(_.cloneDeep(originalCard));\n    saveTmpCard(null);\n    setContentChanged(false);\n  };\n\n  const saveChanges = () => {\n    if (!contentChanged) return;\n\n    setTmpCard(_.cloneDeep(tmpCard));\n    setOriginalCard(_.cloneDeep(tmpCard));\n    saveTmpCard(null);\n    updateCard(dispatch, _.cloneDeep(tmpCard));\n    setContentChanged(false);\n  };\n\n  useEffect(() => {\n    if (\n      _.isEqual(originalCard, tmpCard) &&\n      _.isEqual(originalCard.front, tmpCard.front) &&\n      _.isEqual(originalCard.back, tmpCard.back)\n    ) {\n      saveTmpCard(null);\n      setContentChanged(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [tmpCard]);\n\n  useEffect(() => {\n    setEditBack(false);\n    setTmpCard(_.cloneDeep(card));\n    setOriginalCard(_.cloneDeep(card));\n    saveTmpCard(null);\n    setContentChanged(false);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [card.uuid]);\n\n  const isCreature = () => getValue('cardMainType') === CardMainType.Creature;\n  const isPlaneswalker = () => getValue('cardMainType') === CardMainType.Planeswalker;\n  const hasMana = () =>\n    getValue('cardMainType') !== CardMainType.Land &&\n    getValue('cardMainType') !== CardMainType.Emblem;\n\n  const hasStats = () => isCreature() || isPlaneswalker();\n\n  const inputConfig = [\n    { key: 'name', type: 'input', name: 'Card Name' },\n    { key: 'cover', type: 'input', name: 'Cover (URL)' },\n    { key: 'legendary', type: 'bool', name: 'Legendary?' },\n    { key: 'manaCost', type: 'input', name: 'Mana Cost', width: hasMana() ? 50 : 0 },\n    {\n      key: 'rarity',\n      type: 'select',\n      name: 'Rarity',\n      data: Object.keys(RarityType).map((type: any) => RarityType[type]),\n      width: hasMana() ? 50 : 100\n    },\n    {\n      key: 'cardMainType',\n      type: 'select',\n      name: 'Card Type',\n      data: Object.keys(CardMainType).map((type: any) => CardMainType[type]),\n      width: 50\n    },\n    { key: 'cardSubTypes', type: 'input', name: 'Card Sub Types', width: 50 },\n    { key: 'cardText', type: 'list', name: 'Card Text' },\n    { key: 'flavourText', type: 'area', name: 'Flavour Text' },\n    { key: 'flavourAuthor', type: 'input', name: 'Flavour Text Author' },\n    {\n      key: 'cardStats',\n      type: isPlaneswalker() ? 'input' : 'split-input',\n      name: isPlaneswalker() ? 'Loyalty' : 'Power/Toughness',\n      width: hasStats() ? 50 : 0\n    },\n    {\n      key: 'creator',\n      type: 'select',\n      name: 'Card Creator',\n      data: Object.keys(Creators).map((type: any) => Creators[type]),\n      width: hasStats() ? 50 : 100\n    }\n  ];\n\n  if (card.uuid === NO_CARD)\n    return (\n      <div className={styles.noCard}>\n        <span>Hover over a card and click the edit icon to start the editor!</span>\n      </div>\n    );\n\n  const addBackFace = () => {\n    const newTmpCard = { ...tmpCard };\n    newTmpCard.back = {\n      name: '',\n      cardText: [],\n      cardMainType: CardMainType.Creature,\n      manaCost: ''\n    };\n\n    setTmpCard(newTmpCard);\n    saveTmpCard(newTmpCard);\n    setContentChanged(true);\n  };\n\n  const deleteBackFace = () => {\n    const newTmpCard = { ...tmpCard };\n    delete newTmpCard.back;\n    setTmpCard(newTmpCard);\n    saveTmpCard(newTmpCard);\n    setContentChanged(true);\n  };\n\n  return (\n    <div className={styles.editor}>\n      <Row>\n        <EditorTooltip className={styles.tooltip} />\n        <Button.Group className={styles.smallButtonGroup} size=\"small\">\n          {card.back && editBack && (\n            <Button type=\"ghost\" onClick={() => setEditBack(false)}>\n              <span>Edit Front Face</span>\n            </Button>\n          )}\n          {card.back && !editBack && (\n            <Button type=\"ghost\" onClick={() => setEditBack(true)}>\n              <span>Edit Back Face</span>\n            </Button>\n          )}\n          {card.back && (\n            <Button onClick={deleteBackFace} type=\"danger\">\n              <span>Delete Back Face</span>\n            </Button>\n          )}\n          {!card.back && <Button onClick={addBackFace}>Add Back Face</Button>}\n        </Button.Group>\n      </Row>\n      <Row>\n        {inputConfig.map(config => {\n          const style: any = {};\n          if (config.width === 0) style.display = 'none';\n          if (config.width) style.width = `${config.width}%`;\n          return (\n            <div\n              key={`card-editor-key:${config.key}`}\n              className={config.width ? styles.partialField : styles.fullField}\n              style={style}\n            >\n              <EditField\n                fieldKey={config.key}\n                type={config.type}\n                data={config.data}\n                name={config.name}\n                saveValue={saveValue}\n                getValue={getValue}\n              />\n            </div>\n          );\n        })}\n      </Row>\n      <Row>\n        <Button.Group className={styles.buttonGroup} size=\"small\">\n          <Button disabled={!contentChanged} onClick={saveChanges} type=\"primary\">\n            <span>Save Changes</span>\n          </Button>\n          <Button disabled={!contentChanged} onClick={discardChanges} type=\"danger\">\n            <span>Discard Changes</span>\n          </Button>\n        </Button.Group>\n      </Row>\n    </div>\n  );\n};\n\nexport default CardEditor;\n","import React, { useEffect, useState } from 'react';\nimport { Checkbox, Input, Radio, Row } from 'antd';\nimport { CardMainType, ColorType, mapEnum, RarityType } from '../../interfaces/enums';\n\nimport styles from './styles.module.scss';\nimport CardInterface from '../../interfaces/CardInterface';\nimport cardToColor from '../CardRender/cardToColor';\n\nexport interface CollectionFilterInterface {\n  colors: CheckBoxGroupInterface;\n  rarity: CheckBoxGroupInterface;\n  types: CheckBoxGroupInterface;\n}\n\ninterface CollectionFilterControlsInterface {\n  showColSpan?: boolean;\n  setCollectionColSpan: (span: number) => void;\n  setCollectionFilter: (filter: CollectionFilterInterface) => void;\n  collection: CardInterface[];\n  setNameFilter: (filter: string) => void;\n}\n\nexport interface CheckBoxGroupInterface {\n  [key: string]: boolean;\n}\n\ninterface CardCountStats {\n  [key: string]: number;\n}\n\nconst CollectionFilterControls = ({\n  setCollectionColSpan,\n  setCollectionFilter,\n  showColSpan = true,\n  collection,\n  setNameFilter\n}: CollectionFilterControlsInterface) => {\n  const createEnumInitState = (values: string[]): CheckBoxGroupInterface => {\n    const group: CheckBoxGroupInterface = {};\n    values.forEach((value: string) => {\n      group[value] = true;\n    });\n    return group;\n  };\n\n  const [colSpanSetting, setColSpanSetting] = useState(-1);\n  const [shownCardTypes, setShownCardTypes] = useState<CheckBoxGroupInterface>(\n    createEnumInitState(Object.values(CardMainType))\n  );\n  const [shownColors, setShownColors] = useState<CheckBoxGroupInterface>(\n    createEnumInitState(Object.values(ColorType))\n  );\n  const [shownRarities, setShownRarities] = useState<CheckBoxGroupInterface>(\n    createEnumInitState(Object.values(RarityType))\n  );\n\n  const updateEnumState = (\n    key: string,\n    value: boolean,\n    data: CheckBoxGroupInterface,\n    fct: (values: CheckBoxGroupInterface) => void\n  ) => {\n    const newState = { ...data };\n    newState[key] = value;\n    fct(newState);\n  };\n\n  const updateColSpan = (nextColSpan: number) => {\n    setColSpanSetting(nextColSpan);\n    setCollectionColSpan(nextColSpan);\n  };\n\n  const cardCountStats: CardCountStats = {};\n  Object.values(CardMainType).forEach(key => {\n    cardCountStats[key] = 0;\n  });\n  Object.values(RarityType).forEach(key => {\n    cardCountStats[key] = 0;\n  });\n  Object.values(ColorType).forEach(key => {\n    cardCountStats[key] = 0;\n  });\n  collection.forEach(card => {\n    cardCountStats[cardToColor(card.front.cardMainType, card.manaCost).color] += 1;\n    cardCountStats[card.front.cardMainType] += 1;\n    cardCountStats[card.rarity] += 1;\n  });\n\n  useEffect(() => {\n    setCollectionFilter({\n      colors: shownColors,\n      rarity: shownRarities,\n      types: shownCardTypes\n    });\n  }, [shownColors, shownRarities, shownCardTypes, setCollectionFilter]);\n  return (\n    <div className={styles.controls}>\n      <Row>\n        <div className={styles.controlItem}>\n          <h4>Filter by name</h4>\n          <Input placeholder=\"Card Name\" allowClear onChange={e => setNameFilter(e.target.value)} />\n        </div>\n        <div>\n          {showColSpan && (\n            <div className={styles.controlItem}>\n              <h4>Cards per row</h4>\n              <Radio.Group\n                size=\"small\"\n                value={colSpanSetting.toString(10)}\n                onChange={e => updateColSpan(parseInt(e.target.value, 10))}\n              >\n                <Radio.Button value=\"-1\">Auto</Radio.Button>\n                <Radio.Button value=\"24\">1</Radio.Button>\n                <Radio.Button value=\"12\">2</Radio.Button>\n                <Radio.Button value=\"8\">3</Radio.Button>\n                <Radio.Button value=\"6\">4</Radio.Button>\n                <Radio.Button value=\"4\">6</Radio.Button>\n                <Radio.Button value=\"3\">8</Radio.Button>\n                <Radio.Button value=\"2\">12</Radio.Button>\n                <Radio.Button value=\"1\">24</Radio.Button>\n              </Radio.Group>\n            </div>\n          )}\n        </div>\n        <div className={styles.controlItem}>\n          <h4>Shown Card Types</h4>\n          {mapEnum(CardMainType, (key: string) => (\n            <Checkbox\n              key={`collection-filter-controls-checkbox-cardmaintype-${key}`}\n              checked={shownCardTypes[key]}\n              disabled={cardCountStats[key] === 0}\n              onChange={e =>\n                updateEnumState(key, e.target.checked, shownCardTypes, setShownCardTypes)\n              }\n            >\n              {`${key} (${cardCountStats[key]})`}\n            </Checkbox>\n          ))}\n        </div>\n        <div className={styles.controlItem}>\n          <h4>Shown Colors</h4>\n          {Object.values(ColorType).map((key: string) => {\n            if (key === ColorType.Planeswalker) return '';\n            return (\n              <Checkbox\n                key={`collection-filter-controls-checkbox-color-${key}`}\n                checked={shownColors[key]}\n                disabled={cardCountStats[key] === 0}\n                onChange={e => updateEnumState(key, e.target.checked, shownColors, setShownColors)}\n              >\n                {`${key} (${cardCountStats[key]})`}\n              </Checkbox>\n            );\n          })}\n        </div>\n        <div className={styles.controlItem}>\n          <h4>Shown Rarities</h4>\n          {mapEnum(RarityType, (key: string) => (\n            <Checkbox\n              key={`collection-filter-controls-checkbox-rarity-${key}`}\n              checked={shownRarities[key]}\n              disabled={cardCountStats[key] === 0}\n              onChange={e =>\n                updateEnumState(key, e.target.checked, shownRarities, setShownRarities)\n              }\n            >\n              {`${key} (${cardCountStats[key]})`}\n            </Checkbox>\n          ))}\n        </div>\n      </Row>\n    </div>\n  );\n};\n\nexport default CollectionFilterControls;\n","import axios from 'axios';\n\nimport { message } from 'antd';\nimport { Action, MechanicActionType } from '../cardReducer';\n\nimport { getAccessToken } from '../dropboxService';\nimport MechanicInterface from '../interfaces/MechanicInterface';\n\nconst MIDDLEWARE_ENDPOINT = process.env.NODE_ENV === 'production' ? '' : 'http://localhost:3001';\n\nexport const getMechanics = (dispatch: (value: Action) => void) => {\n  const request = `${MIDDLEWARE_ENDPOINT}/mechanics`;\n  axios\n    .get(request)\n    .then(result => {\n      dispatch({\n        type: MechanicActionType.GetMechanics,\n        payload: { mechanics: result.data.mechanics }\n      });\n    })\n    .catch(error => {\n      console.log(error);\n    });\n};\n\nexport const createMechanic = (dispatch: (value: Action) => void) => {\n  const request = `${MIDDLEWARE_ENDPOINT}/mechanics`;\n  const args = { accessKey: getAccessToken() };\n\n  axios\n    .post(request, args)\n    .then(result => {\n      message.success('Successfully Created Mechanic!');\n      return dispatch({\n        type: MechanicActionType.CreateMechanic,\n        payload: {\n          mechanic: result.data.mechanic\n        }\n      });\n    })\n    .catch(error => {\n      message.error('Failed creating a new mechanic :(');\n      console.log(error);\n    });\n};\n\nexport const updateMechanic = (dispatch: (value: Action) => void, updated: MechanicInterface) => {\n  console.log(updated);\n\n  const request = `${MIDDLEWARE_ENDPOINT}/mechanics`;\n  axios\n    .put(request, { mechanic: updated, accessKey: getAccessToken() })\n    .then(result => {\n      message.success('Successfully Updated Mechanic');\n      return dispatch({\n        type: MechanicActionType.UpdateMechanic,\n        payload: {\n          mechanic: result.data.mechanic\n        }\n      });\n    })\n    .catch(error => {\n      message.error(\"Could'nt update mechanic\");\n      console.log(error);\n    });\n};\n","// tslint:disable:no-any\nimport { Form, Input, InputNumber } from 'antd';\nimport React from 'react';\nimport { EditableContext } from './EditableTable';\n\nconst FormItem = Form.Item;\n\nexport class EditableCell extends React.Component<any, {}> {\n  public getInput = () => {\n    if (this.props.inputType === 'number') {\n      return <InputNumber />;\n    }\n    return <Input />;\n  };\n\n  public render() {\n    const { editing, dataIndex, title, inputType, record, index, ...restProps } = this.props;\n    return (\n      <EditableContext.Consumer>\n        {(form: any) => {\n          const { getFieldDecorator } = form;\n          return (\n            <td {...restProps}>\n              {editing ? (\n                <FormItem style={{ margin: 0 }}>\n                  {getFieldDecorator(dataIndex, {\n                    rules: [\n                      {\n                        required: true,\n                        message: `Please Input ${title}!`\n                      }\n                    ],\n                    initialValue: record[dataIndex]\n                  })(this.getInput())}\n                </FormItem>\n              ) : (\n                restProps.children\n              )}\n            </td>\n          );\n        }}\n      </EditableContext.Consumer>\n    );\n  }\n}\n","// tslint:disable:no-any\nimport { Form } from 'antd';\nimport React from 'react';\nimport { EditableContext } from './EditableTable';\n\nconst EditableRow = ({ form, index, ...props }: any) => (\n  <EditableContext.Provider value={form}>\n    <tr {...props} />\n  </EditableContext.Provider>\n);\n\nexport const EditableFormRow = Form.create()(EditableRow);\n","// tslint:disable:no-any\nimport { Popconfirm, Table } from 'antd';\nimport React from 'react';\n\nimport { ColumnProps } from 'antd/lib/table';\nimport { EditableCell } from './EditableCell';\nimport { EditableFormRow } from './EditableRow';\n\nexport const EditableContext = React.createContext({ form: {} });\n\ninterface State {\n  editingKey: any;\n}\ninterface Props {\n  data: any[];\n  columns: any[];\n  onSave: (data: any, key: string) => void;\n}\ninterface ColumnPropsEditable<T> extends ColumnProps<T> {\n  editable?: boolean;\n}\n\nexport class EditableTable extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { editingKey: '' };\n  }\n\n  public isEditing = (record: any) => record.key === this.state.editingKey;\n\n  public cancel = () => {\n    this.setState({ editingKey: '' });\n  };\n\n  public save(form: any, key: any) {\n    form.validateFields((error: any, row: any) => {\n      if (error) {\n        return;\n      }\n      const newData = [...this.props.data];\n      const index = newData.findIndex(item => key === item.key);\n      if (index > -1) {\n        const item = newData[index];\n        newData.splice(index, 1, {\n          ...item,\n          ...row\n        });\n      } else {\n        newData.push(row);\n      }\n      this.props.onSave(newData, this.state.editingKey);\n      this.setState({ editingKey: '' });\n    });\n  }\n\n  public edit(key: any) {\n    this.setState({ editingKey: key });\n  }\n\n  public render() {\n    const components = {\n      body: {\n        row: EditableFormRow,\n        cell: EditableCell\n      }\n    };\n\n    const columns = [\n      ...this.props.columns,\n      {\n        title: 'operation',\n        dataIndex: 'operation',\n        render: (text: string, record: any) => {\n          const editable = this.isEditing(record);\n          return (\n            <div>\n              {editable ? (\n                <span>\n                  <EditableContext.Consumer>\n                    {form => (\n                      <a\n                        href=\"javascript:;\"\n                        onClick={() => this.save(form, record.key)}\n                        style={{ marginRight: 8 }}\n                      >\n                        Save\n                      </a>\n                    )}\n                  </EditableContext.Consumer>\n                  <Popconfirm title=\"Sure to cancel?\" onConfirm={() => this.cancel()}>\n                    <a>Cancel</a>\n                  </Popconfirm>\n                </span>\n              ) : (\n                <a onClick={() => this.edit(record.key)}>Edit</a>\n              )}\n            </div>\n          );\n        }\n      }\n    ];\n\n    const parsedColumns = columns.map((col: any) => {\n      if (!col.editable) {\n        return col;\n      }\n      return {\n        ...col,\n        onCell: (record: any) => ({\n          record,\n          inputType: 'text',\n          dataIndex: col.dataIndex,\n          title: col.title,\n          editing: this.isEditing(record)\n        })\n      };\n    });\n\n    return (\n      <Table\n        components={components}\n        bordered\n        dataSource={this.props.data}\n        columns={parsedColumns}\n        // rowClassName=\"editable-row\"\n      />\n    );\n  }\n}\n","import React, { useContext } from 'react';\nimport { Button, Modal } from 'antd';\n\nimport _ from 'lodash';\nimport { Store, StoreType } from '../../store';\nimport { createMechanic, updateMechanic } from '../../actions/mechanicActions';\nimport { EditableTable } from '../EditableTable/EditableTable';\n\nconst MechanicModal = ({\n  visible,\n  setVisible\n}: {\n  visible: boolean;\n  setVisible: (key: boolean) => void;\n}) => {\n  const { mechanics, dispatch } = useContext<StoreType>(Store);\n\n  function handleTableChange(nextSource: any, key: string) {\n    // @ts-ignore\n    nextSource.forEach(data => {\n      if (data.key === key) {\n        updateMechanic(dispatch, data);\n      }\n    });\n  }\n\n  const columns = [\n    {\n      title: 'name',\n      dataIndex: 'name',\n      key: 'name',\n      width: '30%',\n      editable: true\n    },\n    {\n      title: 'description',\n      dataIndex: 'description',\n      key: 'description',\n      width: '70%',\n      editable: true\n    }\n  ];\n\n  const sortedMechanics = _.sortBy(mechanics, [o => o.uuid]).map(mechanic => ({\n    ...mechanic,\n    key: mechanic.uuid\n  }));\n\n  return (\n    <Modal\n      width=\"90%\"\n      title=\"Edit Mechanics\"\n      visible={visible}\n      onOk={() => setVisible(false)}\n      onCancel={() => setVisible(false)}\n    >\n      <Button style={{ width: '100%' }} type=\"primary\" onClick={() => createMechanic(dispatch)}>\n        Add Mechanic\n      </Button>\n      <EditableTable data={sortedMechanics} columns={columns} onSave={handleTableChange} />\n    </Modal>\n  );\n};\n\nexport default MechanicModal;\n","import { useState, useEffect } from 'react';\n\nconst useLocalStorage = (\n  localStorageKey: string,\n  defaultValue: string = '',\n  json: boolean = false\n) => {\n  const [value, setValue] = useState<string>(localStorage.getItem(localStorageKey) || defaultValue);\n\n  useEffect(() => {\n    localStorage.setItem(localStorageKey, value);\n  }, [localStorageKey, value]);\n\n  if (json) {\n    return [\n      JSON.parse(value),\n      (newValue: any) => {\n        setValue(JSON.stringify(newValue));\n      }\n    ];\n  }\n  return [value, setValue];\n};\n\nexport default useLocalStorage;\n","import React from 'react';\nimport { List, Typography } from 'antd';\nimport ChangeLogEntryInterface from '../../interfaces/ChangeLogEntryInterface';\nimport { ChangeLogFeatureType } from '../../interfaces/enums';\n\nconst { Text } = Typography;\n\nconst updateLog: ChangeLogEntryInterface[] = [];\n\nupdateLog.push({\n  version: '0.0.1',\n  title: 'New Usability Update',\n  content: [\n    {\n      type: ChangeLogFeatureType.Added,\n      feature: 'You can now sort cards by color, creator, or the time the card was last updated.'\n    },\n    {\n      type: ChangeLogFeatureType.Added,\n      feature:\n        \"Cards now have an indicator that shows that someone else has added them and you haven't seen them yet. Hover over the card to hide indicator.\"\n    },\n    {\n      type: ChangeLogFeatureType.Removed,\n      feature:\n        'There is no longer a indicator (top-left) that shows how many cards are in the collection.'\n    }\n  ]\n});\n\nconst exampleMechanics = ['[Enrage] do Something', '[Shadow Clone {1}]', '[Surveil 1]'];\n\nupdateLog.push({\n  version: '0.1.0',\n  title: 'Card Mechanic Update',\n  content: [\n    {\n      type: ChangeLogFeatureType.Added,\n      feature:\n        'You can now add mechanics. At the bottom left is a button that opens the mechanic edit dialog. Mechanics are predefined effects that you only have to write once, but can use them on many cards. A Mechanic has a name and a description. You can render it on a card by putting the name in square brackets.'\n    },\n    {\n      type: ChangeLogFeatureType.None,\n      feature: (\n        <div>\n          <Text>Examples:</Text>\n          {exampleMechanics.map(m => (\n            <Text code>{m}</Text>\n          ))}\n        </div>\n      )\n    }\n  ]\n});\n\nupdateLog.push({\n  version: '0.2.1',\n  title: 'UI Nitpicks: So much wow!',\n  content: [\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature:\n        'Card Text now has a smaller font size only in collection view to support cards with long text.'\n    },\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature: 'New Change Log UI.'\n    },\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature: 'New Color Theme.'\n    },\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature: 'More intuitive card hover.'\n    },\n    {\n      type: ChangeLogFeatureType.Changed,\n      feature: 'Compact Card Editor: Only fields that are needed are shown.'\n    }\n  ]\n});\n\nexport default updateLog;\n","import React from 'react';\nimport { List, Row, Typography } from 'antd';\nimport ChangeLogEntryInterface from '../../interfaces/ChangeLogEntryInterface';\n\nimport styles from './logEntry.module.scss';\nimport { ChangeLogFeatureType } from '../../interfaces/enums';\n\nconst { Item: ListItem } = List;\nconst { Text } = Typography;\n\nconst LogEntry = (entry: ChangeLogEntryInterface) => {\n  const typeColor = (type: ChangeLogFeatureType) => {\n    if (type === ChangeLogFeatureType.Removed || type === ChangeLogFeatureType.Deprecated) {\n      return styles.delete;\n    }\n    if (type === ChangeLogFeatureType.Added || type === ChangeLogFeatureType.Fixed) {\n      return styles.new;\n    }\n    if (type === ChangeLogFeatureType.Changed) {\n      return styles.change;\n    }\n\n    return '';\n  };\n\n  return (\n    <Row className={styles.entry}>\n      <div className={styles.title}>{`${entry.version} — ${entry.title}`}</div>\n      <List\n        size=\"small\"\n        dataSource={entry.content}\n        renderItem={item => (\n          <ListItem>\n            {item.type !== ChangeLogFeatureType.None && (\n              <Text code className={typeColor(item.type)}>\n                {item.type}\n              </Text>\n            )}\n            <Text>{item.feature}</Text>\n          </ListItem>\n        )}\n      />\n    </Row>\n  );\n};\n\nexport default LogEntry;\n","import React, { useEffect } from 'react';\nimport { Modal } from 'antd';\n\nimport useLocalStorage from '../../utils/useLocalStorageHook';\nimport updateLog from './updateLog';\nimport LogEntry from './LogEntry';\n\nconst ChangeLogModal = () => {\n  const [lastSeenVersion, updateLastSeenVersion] = useLocalStorage(\n    'mtg-funset:last-seen-version',\n    '-1'\n  );\n\n  const renderLog = () => {\n    return updateLog\n      .filter((log, i) => i > parseInt(lastSeenVersion, 10))\n      .map(entry => <LogEntry {...entry} />);\n  };\n\n  useEffect(() => {\n    if (updateLog.length > 0 && updateLog.length - 1 > parseInt(lastSeenVersion, 10)) {\n      Modal.info({\n        title: 'Change Log',\n        content: renderLog(),\n        width: '90%',\n        onOk() {\n          updateLastSeenVersion(updateLog.length - 1);\n        },\n        okText: \"Thanks for the info!\"\n      });\n    }\n  }, [lastSeenVersion]);\n\n  return <div />;\n};\n\nexport default ChangeLogModal;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Button, Col, Input, Modal, Row, Select } from 'antd';\nimport _ from 'lodash';\n// @ts-ignore\nimport useResizeAware from 'react-resize-aware';\nimport fileDownload from 'js-file-download';\nimport useWindowDimensions from './useWindowDimensions';\n\nimport CardInterface from './interfaces/CardInterface';\nimport { ColorType, Creators, SortByType } from './interfaces/enums';\nimport CardCollection from './components/CardCollection/CardCollection';\nimport CardEditor from './components/CardEditor/CardEditor';\n\nimport { Store, StoreType } from './store';\n\nimport styles from './App.module.scss';\nimport './card-modal.scss';\n\nimport { NonMemoCardRender as CardRender } from './components/CardRender/CardRender';\nimport CollectionFilterControls, {\n  CollectionFilterInterface\n} from './components/CollectionFilterControls/CollectionFilterControls';\nimport cardToColor from './components/CardRender/cardToColor';\nimport { createCard, EMPTY_CARD, refreshCollection } from './actions/cardActions';\n\nimport { hasAccessToken, updateAccessToken } from './dropboxService';\nimport { getMechanics } from './actions/mechanicActions';\nimport MechanicModal from './components/MechanicModal/MechanicModal';\nimport useLocalStorage from './utils/useLocalStorageHook';\nimport ChangeLogModal from './components/ChangeLogModal/ChangeLogModal';\n\nconst { Search } = Input;\nconst { confirm } = Modal;\n\nconst NO_CARD = '-1';\n\nconst App: React.FC = () => {\n  const [tmpCard, setTmpCard] = useState<CardInterface | null>(null);\n  const [cardEditId, setCardEditId] = useState<string>(NO_CARD);\n  const [cardViewId, setCardViewId] = useState<string>(NO_CARD);\n  const [showCardModal, setShowCardModal] = useState<boolean>(false);\n  const [cardNameFilter, setCardNameFilter] = useState<string>('');\n  const [mechanicsVisible, setMechanicsVisible] = useState(false);\n  const [sortBy, setSortBy] = useLocalStorage('mtg-funset:SortBy', SortByType.Color);\n  const [seenCardUuids, setSeenCardUuids] = useLocalStorage(\n    'mtg-funset:seen-card-uuids',\n    '[]',\n    true\n  );\n\n  const [collectionFilter, setCollectionFilter] = useState<CollectionFilterInterface>({\n    colors: {},\n    rarity: {},\n    types: {}\n  });\n\n  const [colSpanSetting, setColSpanSetting] = useState<number>(-1);\n\n  const { cards, newUuid, dispatch } = useContext<StoreType>(Store);\n\n  const mergedCollection = [...cards.filter(card => card.uuid !== (tmpCard ? tmpCard.uuid : ''))];\n  if (tmpCard) mergedCollection.push(tmpCard);\n\n  const sortList = [];\n  if (sortBy === SortByType.Color) {\n    sortList.push((o: CardInterface) =>\n      _.indexOf(Object.values(ColorType), cardToColor(o.front.cardMainType, o.manaCost).color)\n    );\n    sortList.push((o: CardInterface) => o.front.name.toLowerCase());\n  }\n  if (sortBy === SortByType.Creator) {\n    sortList.push((o: CardInterface) =>\n      o.creator === Creators.UNKNOWN ? 999 : _.indexOf(Object.values(Creators), o.creator)\n    );\n    sortList.push((o: CardInterface) =>\n      _.indexOf(Object.values(ColorType), cardToColor(o.front.cardMainType, o.manaCost).color)\n    );\n    sortList.push((o: CardInterface) => o.front.name.toLowerCase());\n  }\n  if (sortBy === SortByType.LastUpdated) {\n    sortList.push((o: CardInterface) => o.lastUpdated * -1);\n  }\n\n  const filteredCollection = _.sortBy(mergedCollection, sortList).filter(\n    o =>\n      o.name.toLowerCase().includes(cardNameFilter.toLowerCase()) &&\n      collectionFilter.colors[cardToColor(o.front.cardMainType, o.manaCost).color] &&\n      collectionFilter.rarity[o.rarity] &&\n      collectionFilter.types[o.front.cardMainType]\n  );\n\n  const getCard = (collection: CardInterface[], uuid: string) =>\n    filteredCollection.find(card => card.uuid === uuid) || EMPTY_CARD();\n\n  const getCardUndefined = (collection: CardInterface[], uuid: string) =>\n    filteredCollection.find(card => card.uuid === uuid);\n\n  useEffect(() => {\n    if (newUuid) {\n      // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      if (cardEditId === NO_CARD) openCardInEditor(newUuid, '');\n      // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      else openCardInEditor(newUuid, getCard(filteredCollection, cardEditId).name);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [newUuid]);\n\n  useEffect(() => {\n    refreshCollection(dispatch);\n    getMechanics(dispatch);\n  }, []); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  const downloadJson = (card: CardInterface) => {\n    const data = { ...card };\n\n    fileDownload(JSON.stringify(data), `${card.name}.json`);\n  };\n\n  const downloadCollectionAsJson = (cardCollection: CardInterface[]) => {\n    const collectionData: object[] = [];\n\n    cardCollection.forEach(card => {\n      collectionData.push(card);\n    });\n\n    fileDownload(JSON.stringify(collectionData), `magic-collection.json`);\n  };\n\n  const downloadImage = (id: string, name: string) => {\n    console.log(`image download: ${id} - ${name}`);\n  };\n\n  const addSeenCard = (uuid: string) => {\n    setSeenCardUuids([...seenCardUuids, uuid]);\n  };\n\n  const viewCard = (id: string) => {\n    setCardViewId(id);\n    setShowCardModal(true);\n  };\n\n  const openCardInEditor = (id: string, oldCardName: string) => {\n    if (id === cardEditId) {\n      viewCard(id);\n      return;\n    }\n\n    if (tmpCard) {\n      confirm({\n        title: `${oldCardName} has unsaved changes`,\n        okText: 'Yes discard all changes',\n        type: 'danger',\n        okType: 'danger',\n        cancelText: 'Cancel',\n        onOk() {\n          setCardEditId(id);\n          viewCard(id);\n        }\n      });\n    } else {\n      setCardEditId(id);\n      viewCard(id);\n    }\n  };\n\n  const modalBack = (card: CardInterface, width: number) => {\n    if (!card.back) return <div />;\n\n    return (\n      <CardRender\n        containerWidth={width}\n        {...card.back}\n        cardID={card.uuid}\n        creator={card.creator}\n        rarity={card.rarity}\n        manaCost={card.manaCost}\n        backFace\n        collectionNumber={_.findIndex(\n          filteredCollection,\n          (o: CardInterface) => o.uuid === cardViewId\n        )}\n        collectionSize={filteredCollection.length}\n      />\n    );\n  };\n\n  const { width, height } = useWindowDimensions();\n\n  const isMobile = width < 900 && height < 900;\n  const isLandScape = width > height;\n\n  const wOffset = isMobile ? 50 : 100;\n  const hOffset = isMobile ? 50 : 200;\n\n  const dimFactor = 488 / 680;\n\n  let modalMaxWidth = (width / 100) * 62.5 - wOffset;\n  if (isMobile) {\n    if (isLandScape) modalMaxWidth = (width / 24) * 15 - wOffset;\n    else modalMaxWidth = width - wOffset;\n  }\n  const modalMaxHeight = height - hOffset;\n  const modalSingleCardWidth = Math.min(modalMaxWidth, modalMaxHeight * dimFactor);\n  const modalDoubleCardWidth = Math.min(modalMaxWidth, modalMaxHeight * dimFactor * 2);\n\n  const [resizeListener, sizes] = useResizeAware();\n\n  let colSpan = 4;\n  if (colSpanSetting === -1) {\n    if (sizes.width < 1700) colSpan = 6;\n    if (sizes.width < 1200) colSpan = 8;\n    if (sizes.width < 800) colSpan = 12;\n  } else {\n    colSpan = colSpanSetting;\n  }\n\n  if (isMobile) {\n    if (isLandScape) colSpan = 8;\n    else colSpan = 12;\n  }\n\n  const createGrid = (collection: CardInterface[]) => {\n    let collectionSpan = 18;\n    let editorSpan = 6;\n\n    if (isMobile) {\n      if (isLandScape) {\n        collectionSpan = 15;\n        editorSpan = 9;\n      } else {\n        collectionSpan = 24;\n        editorSpan = 0;\n      }\n    }\n\n    const seenCardObject: { [key: string]: boolean } = {};\n    seenCardUuids.forEach((uuid: string) => {\n      seenCardObject[uuid] = true;\n    });\n\n    return (\n      <Row>\n        <ChangeLogModal />\n        <MechanicModal visible={mechanicsVisible} setVisible={setMechanicsVisible} />\n        <Col span={collectionSpan} className={styles.collection}>\n          <CardCollection\n            cards={filteredCollection}\n            currentEditId={cardEditId}\n            editCard={id => {\n              if (cardEditId === NO_CARD) openCardInEditor(id, '');\n              else openCardInEditor(id, getCard(collection, id).name);\n            }}\n            downloadImage={id => downloadImage(id, getCard(collection, id).name)}\n            downloadJson={id => downloadJson(getCard(collection, id))}\n            viewCard={viewCard}\n            colSpan={colSpan}\n            seenCardUuids={seenCardObject}\n            addSeenCard={addSeenCard}\n          />\n        </Col>\n        <Col\n          span={editorSpan}\n          className={`${styles.editor} ${isMobile ? styles.editorMobile : ''}`}\n        >\n          <CardEditor card={getCardUndefined(collection, cardEditId)} saveTmpCard={setTmpCard} />\n        </Col>\n      </Row>\n    );\n  };\n\n  if (!hasAccessToken()) {\n    return (\n      <Search\n        placeholder=\"Input Api Key\"\n        enterButton=\"Enter\"\n        size=\"large\"\n        onSearch={value => {\n          updateAccessToken(value);\n          window.location.reload();\n        }}\n      />\n    );\n  }\n\n  return (\n    <div>\n      {isMobile && isLandScape && (\n        <div className={styles.landscapeAddButton}>\n          <Button\n            icon=\"plus\"\n            type=\"primary\"\n            onClick={() => createCard(dispatch)}\n            className={styles.fullWidth}\n          >\n            Add Card\n          </Button>\n        </div>\n      )}\n      <Row className={styles.app}>\n        <Col span={isMobile ? 0 : 3}>\n          <div className={styles.sortControls}>\n            <h3>Filter Collection By</h3>\n            <Select\n              className={styles.sortSelect}\n              size=\"small\"\n              // @ts-ignore\n              value={sortBy || SortByType.Color}\n              // @ts-ignore\n              onChange={(newSortByValue: SortByType) => setSortBy(newSortByValue)}\n            >\n              {Object.keys(SortByType).map((d: any) => (\n                <Select.Option key={`collection-filter-key-${d}`} value={SortByType[d]}>\n                  {SortByType[d]}\n                </Select.Option>\n              ))}\n            </Select>\n          </div>\n          <CollectionFilterControls\n            collection={cards}\n            setCollectionColSpan={setColSpanSetting}\n            setCollectionFilter={setCollectionFilter}\n            showColSpan\n            setNameFilter={setCardNameFilter}\n          />\n        </Col>\n        <Col span={isMobile ? 24 : 21}>\n          {resizeListener}\n          {createGrid(filteredCollection)}\n        </Col>\n        {!isMobile && (\n          <div className={styles.addButton}>\n            <Button\n              icon=\"edit\"\n              onClick={() => setMechanicsVisible(true)}\n              style={{ width: '100%', marginTop: '8px' }}\n              type=\"primary\"\n            >\n              Edit Mechanics\n            </Button>\n            <Button\n              icon=\"plus\"\n              type=\"primary\"\n              onClick={() => createCard(dispatch)}\n              className={styles.fullWidth}\n            >\n              Add Card\n            </Button>\n            <Button\n              icon=\"download\"\n              type=\"primary\"\n              onClick={() => downloadCollectionAsJson(filteredCollection)}\n              className={styles.fullWidth}\n            >\n              JSON\n            </Button>\n            <Button\n              icon=\"reload\"\n              type=\"primary\"\n              onClick={() => refreshCollection(dispatch)}\n              className={styles.fullWidth}\n            >\n              Reload Collection\n            </Button>\n          </div>\n        )}\n      </Row>\n      <Modal\n        className={styles.modalCardViewWrapper}\n        wrapClassName=\"card-view\"\n        title={`View ${getCard(filteredCollection, cardViewId)}`}\n        visible={showCardModal}\n        onOk={() => setShowCardModal(false)}\n        onCancel={() => setShowCardModal(false)}\n      >\n        {getCard(filteredCollection, cardViewId) && (\n          <div\n            className={`${styles.modalCardGroupWrapper} ${\n              getCard(filteredCollection, cardViewId).back\n                ? styles.modalCardGroupWrapperDouble\n                : styles.modalCardGroupWrapperSingle\n            }`}\n            style={{\n              width: getCard(filteredCollection, cardViewId).back\n                ? modalDoubleCardWidth\n                : modalSingleCardWidth\n            }}\n          >\n            <div className={styles.modalCardWrapper}>\n              <CardRender\n                containerWidth={\n                  getCard(filteredCollection, cardViewId).back\n                    ? modalDoubleCardWidth / 2\n                    : modalSingleCardWidth\n                }\n                {...getCard(filteredCollection, cardViewId).front}\n                cardID={getCard(filteredCollection, cardViewId).uuid}\n                creator={getCard(filteredCollection, cardViewId).creator}\n                rarity={getCard(filteredCollection, cardViewId).rarity}\n                manaCost={getCard(filteredCollection, cardViewId).manaCost}\n                collectionNumber={_.findIndex(\n                  filteredCollection,\n                  (o: CardInterface) => o.uuid === cardViewId\n                )}\n                collectionSize={filteredCollection.length}\n              />\n            </div>\n            {getCard(filteredCollection, cardViewId).back && (\n              <div className={styles.modalCardWrapper}>\n                {modalBack(\n                  getCard(filteredCollection, cardViewId),\n                  getCard(filteredCollection, cardViewId).back\n                    ? modalDoubleCardWidth / 2\n                    : modalSingleCardWidth\n                )}\n              </div>\n            )}\n          </div>\n        )}\n      </Modal>\n      {isMobile && !isLandScape && (\n        <div className={styles.landscapeReminder}>Use Landscape Mode to edit cards!</div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport LogRocket from 'logrocket';\nimport setupLogRocketReact from 'logrocket-react';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { StoreProvider } from './store';\n\nLogRocket.init('fkb4jh/magic-collection-renderer');\nsetupLogRocketReact(LogRocket);\n\nReactDOM.render(\n  <StoreProvider>\n    <App />\n  </StoreProvider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"styles_controls__8TwwB\",\"controlItem\":\"styles_controlItem__18p5t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"entry\":\"logEntry_entry__2sqeC\",\"title\":\"logEntry_title__32nBo\",\"delete\":\"logEntry_delete__ilQHi\",\"new\":\"logEntry_new__YIByG\",\"change\":\"logEntry_change__2BJux\"};"],"sourceRoot":""}